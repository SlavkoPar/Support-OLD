{"version":3,"sources":["Questions/actions.ts","Answers/actions.ts","Questions/reducer.ts","Answers/reducer.ts","store/Store.tsx","components/AutoSuggest.tsx","components/AutoSuggestAnswer.tsx","Questions/components/QuestionAnswers.tsx","Questions/components/Form.tsx","Questions/components/DisplayForm.tsx","common/useHover.tsx","Questions/components/QuestionRow.tsx","CRUD/Generics/actions.ts","Questions/components/GroupRow.tsx","Questions/components/QuestionsPage.tsx","Questions/components/PromoterPage.tsx","Questions/containers/Pages.tsx","components/App.tsx","formik/theme.js","Answers/components/Form.tsx","Answers/components/List.tsx","Answers/containers/List.tsx","CRUD/Generics/actionsAccepted.ts","CRUD/Student/useStudent.tsx","CRUD/Generics/entityReducer.ts","CRUD/Generics/EntityRow.tsx","CRUD/StudentExtended/actions.ts","CRUD/Common/useHover.tsx","CRUD/Generics/EntityList.tsx","CRUD/Student/components/MyForm.tsx","CRUD/Student/components/StudentForm.tsx","CRUD/Student/StudentPage.tsx","CRUD/StudentExtended/studentReducer.ts","CRUD/StudentExtended/useStudent.tsx","CRUD/StudentExtended/components/MyForm.tsx","CRUD/StudentExtended/components/StudentForm.tsx","CRUD/StudentExtended/StudentPage.tsx","index.tsx"],"names":["QuestionActionTypes","AnswerActionTypes","isWebStorageSupported","window","reloadQuestionsFromLocalStorage","sQuestions","questionGroups","JSON","parse","storageQuestionsByGroups","getQuestion","questionId","dispatch","a","async","getQuestionFromLocalStorage","response","type","GET_QUESTION","question","data","results","console","error","delay","Promise","resolve","reject","setTimeout","undefined","questions","find","getQuestionGroupsFromLocalStorage","updateGroupFromLocalStorage","group","SUPPORT_QUESTIONS","storageQuestionsByGroupsDemo","groupId","title","text","words","answers","initialQuestion","initialQuestionGroup","initialQuestionState","loading","formMode","groupIdEditing","getAnswersFromLocalStorage","storageAnswers","addAnswerToLocalStorage","answer","updateAnswerFromLocalStorage","removeAnswerFromLocalStorage","answerId","SUPPORT_ANSWERS","storageAnswersDemo","options","initialAnswer","initialAnswerState","rootReducer","combineReducers","questionState","state","action","GET_ALL_QUESTIONS","section","split","ADD_QUESTION","EDIT_QUESTION","STORE_QUESTION","map","g","q","CANCEL_QUESTION","REMOVE_QUESTION","filter","REMOVE_QUESTION_ANSWER","ASSIGN_QUESTION_ANSWER","ADD_GROUP","EDIT_GROUP","STORE_GROUP","REMOVE_GROUP","reduce","acc","push","STORE_QUESTIONS_TO_LOCAL_STORAGE","localStorage","setItem","stringify","answerState","GET_ALL_ANSWERS","GET_ANSWER","ADD_ANSWER","length","Math","max","EDIT_ANSWER","STORE_ANSWER","CANCEL_ANSWER","REMOVE_ANSWER","STORE_ANSWERS_TO_LOCAL_STORAGE","QuestionAutosuggestMulti","Autosuggest","AutoSuggest","props","onSuggestionsClearRequested","setState","suggestions","anyWord","valueWordRegex","questionWords","valWordRegex","questionWord","test","value","getSuggestions","highlighted","this","multiSection","onSuggestionsFetchRequested","bind","onSuggestionSelected","getSuggestionValue","renderSuggestion","renderSectionTitle","getSectionSuggestions","onSuggestionHighlighted","highlightFirstSuggestion","renderSuggestionsContainer","inputProps","placeholder","onChange","e","changeEvent","event","suggestion","onSelectQuestion","params","matches","AutosuggestHighlightMatch","query","parts","AutosuggestHighlightParse","part","index","className","highlight","key","onBlur","restInputProps","containerProps","children","newValue","method","escapedValue","trim","replace","word","RegExp","React","AutoSuggestAnswer","assignQuestionAnswer","answersUnassigned","QuestionAnswers","questionAnswers","canEdit","removeQuestionAnswer","includes","onClick","stopPropagation","preventDefault","icon","faWindowClose","color","Form","formik","useFormik","enableReinitialize","initialValues","validationSchema","Yup","required","onSubmit","values","saveForm","handleSubmit","htmlFor","id","name","handleChange","handleBlur","disabled","style","width","touched","errors","multiple","cancel","DisplayForm","edit","remove","useHover","useState","isHovered","hoverProps","setValue","divRef","useRef","handleMouseOver","handleMouseOut","useEffect","node","current","addEventListener","removeEventListener","ActionTypes","QuestionRow","hoverRef","ref","faEdit","GroupRow","questionGroup","editGroup","removeGroup","QuestionsPage","add","addGroup","storeGroup","inputEl","select","focus","textAlign","paddingBottom","target","defaultValue","marginLeft","border","borderRadius","padding","marginTop","PromoterPage","joinAnswers","answerIds","mapStateToProps","store","ownProps","mapDispatchToProps","questionGroupId","groups","questionIdMax","editQuestion","removeQuestion","storeQuestion","err","connect","promoter","App","COLORS","require","palx","fromMode","AnswerForm","height","background","boxShadow","maxWidth","margin","Answers","useParams","slug","usedAnswers","getUsedAnswers","concat","editAnswer","removeAnswer","storeAnswer","createActionPayload","actionType","p","payload","createAction","StudentContext","EntityActions","close","CLOSE","CANCEL","setLoading","SET_LOADING","getAll","GET_ALL","get","GET","ADD","display","DISPLAY","EDIT","STORE","REMOVE","goToPage","GO_TO_PAGE","entityReducer","initialEntity","entities","pageSize","pageCount","ceil","entityId","entity","saveStorage","currentPage","initialStudent","url","code","email","avatar","types","initialState","something","StudentProvider","useReducer","createContext","Provider","useStudent","useContext","StudentActionTypes","EntityRow","renderColumns","href","EntityList","pageRangeDisplayed","marginPagesDisplayed","previousLabel","nextLabel","breakLabel","onPageChange","selectedItem","selected","containerClassName","previousLinkClassName","nextLinkClassName","disabledClassName","activeClassName","MyForm","StudentForm","float","size","student","Page","currentData","setCurrentData","jsonStudents","offset","slice","minWidth","join","src","alt","StudentPage","s","stud","StudentActions","addGrade","grade","STUDENT_ADD_GRADE","removeGrade","STUDENT_REMOVE_GRADE","Reducer","prevState","StudentPageExtended","cols","base","black","Object","keys","forEach","css","global","borderColor","outline","createStore","applyMiddleware","thunk","loaded","getItem","sAnswers","ReactDOM","to","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.59bbfbd6.chunk.js","sourcesContent":["// Import redux types\r\nimport { ActionCreator, Dispatch } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\n// import axios from 'axios';\r\n\r\n// Import Question Typing\r\nimport { IQuestion, IQuestionGroup } from './types';\r\nimport { IQuestionState } from './reducer';\r\n\r\n\r\n// Create Action Constants\r\nexport enum QuestionActionTypes {\r\n\tGET_ALL_QUESTIONS = 'GET_ALL_QUESTIONS',\r\n\tGET_QUESTION = 'GET_QUESTION',\r\n\tADD_QUESTION = 'ADD_QUESTION',\r\n\tEDIT_QUESTION = 'EDIT_QUESTION',\r\n\tREMOVE_QUESTION = 'REMOVE_QUESTION',\r\n\tSTORE_QUESTION = 'STORE_QUESTION',\r\n\tCANCEL_QUESTION = 'CANCEL_QUESTION',\r\n\t// groups\r\n\tADD_GROUP = 'ADD_GROUP',\r\n\tEDIT_GROUP = 'EDIT_GROUP',\r\n\tREMOVE_GROUP = 'REMOVE_GROUP',\r\n\tSTORE_GROUP = 'STORE_GROUP',\r\n\t// question answers\r\n\tREMOVE_QUESTION_ANSWER = 'REMOVE_QUESTION_ANSWER',\r\n\tASSIGN_QUESTION_ANSWER = 'ASSIGN_QUESTION_ANSWER',\r\n\t// localSTorage\r\n\tSTORE_QUESTIONS_TO_LOCAL_STORAGE = 'STORE_QUESTIONS_TO_LOCAL_STORAGE'\r\n}\r\n\r\n// Interface for Get All Action Type\r\nexport interface IGetAll {\r\n  type: QuestionActionTypes.GET_ALL_QUESTIONS;\r\n  questionGroups: IQuestionGroup[];\r\n}\r\n\r\nexport interface IGet {\r\n\ttype: QuestionActionTypes.GET_QUESTION;\r\n\tquestion: IQuestion;\r\n}\r\n\r\nexport interface IAdd {\r\n\ttype: QuestionActionTypes.ADD_QUESTION;\r\n\tgroupId: number,\r\n\tquestionId: number,\r\n}\r\n\r\nexport interface IEdit {\r\n\ttype: QuestionActionTypes.EDIT_QUESTION;\r\n\tquestion: IQuestion\r\n}\r\n\r\nexport interface IRemove {\r\n\ttype: QuestionActionTypes.REMOVE_QUESTION;\r\n\tgroupId: number,\r\n\tquestionId: number,\r\n}\r\n\r\nexport interface IStore {\r\n\ttype: QuestionActionTypes.STORE_QUESTION;\r\n\tquestion: IQuestion;\r\n}\r\n\r\nexport interface ICancel {\r\n\ttype: QuestionActionTypes.CANCEL_QUESTION;\r\n}\r\n\r\n// group\r\nexport interface IAddGroup {\r\n\ttype: QuestionActionTypes.ADD_GROUP;\r\n\tgroupId: number\r\n}\r\n\r\nexport interface IEditGroup {\r\n\ttype: QuestionActionTypes.EDIT_GROUP;\r\n\tgroup: IQuestionGroup\r\n}\r\n\r\nexport interface IRemoveGroup {\r\n\ttype: QuestionActionTypes.REMOVE_GROUP;\r\n\tgroupId: number\r\n}\r\n\r\nexport interface IStoreGroup {\r\n\ttype: QuestionActionTypes.STORE_GROUP;\r\n\tgroup: IQuestionGroup;\r\n}\r\n\r\nexport interface IStoreQuestionsToLocalStorage {\r\n\ttype: QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE;\r\n}\r\n\r\n// question answers\r\nexport interface IRemoveQuestionAnswer {\r\n\ttype: QuestionActionTypes.REMOVE_QUESTION_ANSWER;\r\n\tgroupId: number,\r\n\tquestionId: number,\r\n\tanswerId: number\r\n}\r\n\r\nexport interface IAssignQuestionAnswer {\r\n\ttype: QuestionActionTypes.ASSIGN_QUESTION_ANSWER;\r\n\tgroupId: number,\r\n\tquestionId: number,\r\n\tanswerId: number\r\n}\r\n\r\n\r\n// Combine the action types with a union (we assume there are more)\r\nexport type QuestionActions = IGetAll | IGet | IAdd | IEdit | IRemove | IStore | ICancel |\r\n\t\t\t\t\tIAddGroup | IEditGroup | IRemoveGroup | IStoreGroup |\r\n\t\t\t\t\tIRemoveQuestionAnswer | IAssignQuestionAnswer |\r\n\t\t\t\t\tIStoreQuestionsToLocalStorage;\r\n\r\nconst isWebStorageSupported = () => 'localStorage' in window\r\n\r\n// Get All Action <Promise<Return Type>, State Interface, Type of Param, Type of Action>\r\nexport const getAllQuestions: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IGetAll>\r\n> = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tlet loaded = false;\r\n\t\tif (isWebStorageSupported()) {\r\n\t\t\tconst sQuestions = localStorage.getItem(SUPPORT_QUESTIONS);\r\n\t\t\tif (sQuestions !== null) {\r\n\t\t\t\t// console.log('localStorage:', sQuestions);\r\n\t\t\t\t// const questionGroups: IQuestionGroup[] = JSON.parse(sQuestions);\r\n\t\t\t\tstorageQuestionsByGroups = JSON.parse(sQuestions)\r\n\t\t\t\tloaded = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!loaded)\r\n\t\t\tstorageQuestionsByGroups = storageQuestionsByGroupsDemo\r\n\r\n\t\tconst response = await getQuestionGroupsFromLocalStorage(); \r\n      dispatch({\r\n        type: QuestionActionTypes.GET_ALL_QUESTIONS,\r\n        questionGroups: JSON.parse(JSON.stringify(response.data.results)),\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const reloadQuestionsFromLocalStorage = (sQuestions: string) => {\r\n\tconst questionGroups: IQuestionGroup[] = JSON.parse(sQuestions);\r\n\tstorageQuestionsByGroups = questionGroups;\r\n}\r\n\r\n// Get Question <Promise<Return Type>, State Interface, Type of Param, Type of Action> \r\nexport const getQuestion: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, string, IGet>\r\n> = (questionId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people');\r\n\t\tconst response = await getQuestionFromLocalStorage(questionId);\r\n      dispatch({\r\n\t\t\ttype: QuestionActionTypes.GET_QUESTION,\r\n\t\t\tquestion: response.data.results,\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\n\r\n\r\nexport const addQuestion: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IAdd>\r\n> = (groupId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tconst response = await getQuestionGroupsFromLocalStorage();\r\n\t\tconst groups: IQuestionGroup[] = response.data.results;\r\n\t\tlet questionIdMax = 0;\r\n\t\tfor (let g of groups) {\r\n\t\t\tlet max = Math.max(...g.questions.map(q => q.questionId))\r\n\t\t\tif (max > questionIdMax)\r\n\t\t\t\tquestionIdMax = max;\r\n\t\t}\r\n\r\n\t\t// const answers: IQuestion[] = response.data.results;\r\n\t\t// warning: store answer, after upodate, to local storage\r\n      dispatch({\r\n\t\t  type: QuestionActionTypes.ADD_QUESTION,\r\n\t\t  groupId: groupId, \r\n        questionId: questionIdMax + 1\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const editQuestion: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IEdit>\r\n> = (groupId: number, questionId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tconst response = await getQuestionFromLocalStorage(questionId); \r\n\t\t// const answers: IQuestion[] = response.data.results;\r\n\t\t// warning: store answer, after upodate, to local storage\r\n      dispatch({\r\n        type: QuestionActionTypes.EDIT_QUESTION,\r\n        question: response.data.results // answers.find(a => a.questionId === questionId),\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeQuestion: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IRemove>\r\n> = (groupId: number, questionId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tawait delay()\r\n\t\t// warning: store answer, after upodate, to local storage\r\n      dispatch({\r\n        type: QuestionActionTypes.REMOVE_QUESTION,\r\n        groupId: groupId,\r\n        questionId: questionId,\r\n\t\t});\r\n\t\tif (isWebStorageSupported())\r\n\t\t\tdispatch({type: QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeQuestionAnswer: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IRemoveQuestionAnswer>\r\n> = (groupId: number, questionId: number, answerId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tawait delay()\r\n\t\t// warning: store answer, after upodate, to local storage\r\n      dispatch({\r\n\t\t  type: QuestionActionTypes.REMOVE_QUESTION_ANSWER,\r\n\t\t  groupId: groupId,\r\n        questionId: questionId,\r\n        answerId: answerId,\r\n\t\t});\r\n\t\tif (isWebStorageSupported())\r\n\t\t\tdispatch({type: QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE });\r\n\t\tdispatch<any>(getQuestion(questionId))\t// refresh state of question\r\n\t\t} catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const assignQuestionAnswer: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IRemoveQuestionAnswer>\r\n> = (groupId: number, questionId: number, answerId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tawait delay()\r\n\t\t// warning: store answer, after upodate, to local storage\r\n      dispatch({\r\n\t\t  type: QuestionActionTypes.ASSIGN_QUESTION_ANSWER,\r\n\t\t  groupId: groupId,\r\n        questionId: questionId,\r\n        answerId: answerId,\r\n\t\t});\r\n\t\tif (isWebStorageSupported())\r\n\t\t\tdispatch({type: QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE });\r\n\t\tdispatch<any>(getQuestion(questionId))\t// refresh state of question\r\n\t\t} catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\n\r\n\r\nexport const storeQuestion: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IStore>\r\n> = (question: IQuestion, formMode: string) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t if (formMode === 'add') {\r\n\t\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\t\tawait delay();\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: QuestionActionTypes.STORE_QUESTION,\r\n\t\t\t\tquestion: question,\r\n\t\t\t});\r\n\t\t }\r\n\t\t else {\r\n\t\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\t\tawait delay();\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: QuestionActionTypes.STORE_QUESTION,\r\n\t\t\t\tquestion\r\n\t\t\t});\r\n\t\t }\r\n\t\t if (isWebStorageSupported())\r\n\t\t \tdispatch({type: QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nconst delay = (): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tresolve({\r\n\t\t\t\t'status': 200,\r\n\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t'data' : {\r\n\t\t\t\t'results': 1\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}, 50)\r\n\t})\r\n}\r\n\r\nexport const cancelQuestion: ActionCreator<any> = () => {\r\n\treturn (dispatch: Dispatch) => {\r\n\t  try {\r\n\t\t dispatch({\r\n\t\t\ttype: QuestionActionTypes.CANCEL_QUESTION\r\n\t\t });\r\n\t  } catch (err) {\r\n\t\t console.error(err);\r\n\t  }\r\n\t};\r\n };\r\n\r\n\r\n  const getQuestionFromLocalStorage = (questionId: number): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tlet question = undefined;\r\n\t\t\tfor (let section of storageQuestionsByGroups) {\r\n\t\t\t\tquestion = section\r\n\t\t\t\t\t\t\t\t.questions\r\n\t\t\t\t\t\t\t\t.find(question => question.questionId === questionId);\r\n\t\t\t\tif (question !== undefined)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t// assert q !== undefined\r\n\r\n  \t\t  resolve({\r\n  \t\t\t 'status': 200,\r\n  \t\t\t 'content-type': 'application/json',\r\n  \t\t\t 'data' : {\r\n  \t\t\t\t'results': question\r\n  \t\t\t }\r\n  \t\t  })\r\n  \t\t}, 100)\r\n  \t })\r\n  }  \r\n\r\n\r\n\r\nexport const addGroup: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IAddGroup>\r\n> = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tconst response = await getQuestionGroupsFromLocalStorage();\r\n\t\tconst groups: IQuestionGroup[] = response.data.results;\r\n\t\tlet max = Math.max(...groups.map(g => g.groupId))\r\n      dispatch({\r\n\t\t  type: QuestionActionTypes.ADD_GROUP,\r\n\t\t  groupId: max + 1, \r\n\t\t});\r\n\t\tif (isWebStorageSupported())\r\n\t\t\tdispatch({type: QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE });\t\t\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const editGroup: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IEditGroup>\r\n> = (groupId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\tconst response = await getQuestionGroupsFromLocalStorage();\r\n\t\tconst groups: IQuestionGroup[] = response.data.results;\r\n\t\tconst group = groups.find(g => g.groupId === groupId)\r\n      dispatch({\r\n        type: QuestionActionTypes.EDIT_GROUP,\r\n        group: JSON.parse(JSON.stringify(group))\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeGroup: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IRemoveGroup>\r\n> = (groupId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tawait delay()\r\n\t\t// warning: store answer, after update, to local storage\r\n      dispatch({\r\n        type: QuestionActionTypes.REMOVE_GROUP,\r\n        groupId: groupId\r\n\t\t});\r\n\t\tif (isWebStorageSupported())\r\n\t\t\tdispatch({type: QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE });\t\t\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const storeGroup: ActionCreator<\r\n  ThunkAction<Promise<any>, IQuestionState, null, IStoreGroup>\r\n> = (group: IQuestionGroup) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tawait updateGroupFromLocalStorage(group); \r\n\t\tdispatch({\r\n\t\t\ttype: QuestionActionTypes.STORE_GROUP,\r\n\t\t\tgroup\r\n\t\t});\r\n\t\tif (isWebStorageSupported())\r\n\t\t\tdispatch({type: QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE });\t\t\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nconst getQuestionGroupsFromLocalStorage = (): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n  \t\t  resolve({\r\n  \t\t\t 'status': 200,\r\n  \t\t\t 'content-type': 'application/json',\r\n  \t\t\t 'data' : {\r\n  \t\t\t\t'results': storageQuestionsByGroups\r\n  \t\t\t }\r\n  \t\t  })\r\n  \t\t}, 250)\r\n\t})\r\n}\r\n\r\n\r\nconst updateGroupFromLocalStorage = (group: IQuestionGroup): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tresolve({\r\n\t\t\t\t'status': 200,\r\n\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t'data' : {\r\n\t\t\t\t'results': group\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}, 50)\r\n\t})\r\n}\r\n\r\n\r\n///////////////////////////////////////////////////\r\n// localStorage\r\n \r\nexport const SUPPORT_QUESTIONS = 'SUPPORT_QUESTIONS' \r\n\r\n \r\n// localStorage.removeItem(SUPPORT_QUESTIONS);\r\n  \r\nexport let storageQuestionsByGroups: IQuestionGroup[] = [\r\n]\r\n\r\nexport const storageQuestionsByGroupsDemo: IQuestionGroup[] = [\r\n\t{\r\n\t\tgroupId: 11,\r\n\t\ttitle: 'General settings',\r\n\t\tquestions: [\r\n\t\t\t{\r\n\t\t\t\tgroupId: 11,\r\n\t\t\t\tquestionId: 101,\r\n\t\t\t\ttext: 'Why promocode hasn\\'t been applied?',\r\n\t\t\t\twords : [],\r\n\t\t\t\tanswers: [111, 112, 114]\r\n\t\t\t}\r\n\t\t ]\r\n\t\t}, {\r\n\t\t\tgroupId: 22,\r\n\t\t\ttitle: 'Taxes',\r\n\t\t\tquestions: [\r\n\t\t\t\t{\r\n\t\t\t\t\tgroupId: 22,\r\n\t\t\t\t\tquestionId: 201,\r\n\t\t\t\t\ttext: 'Which promocode do we apply?',\r\n\t\t\t\t\twords : [],\r\n\t\t\t\t\tanswers: []\r\n\t\t\t\t}, {\r\n\t\t\t\t\tgroupId: 22,\r\n\t\t\t\t\tquestionId: 202,\r\n\t\t\t\t\ttext: 'Which promocode for client do we apply?',\r\n\t\t\t\t\twords : [],\r\n\t\t\t\t\tanswers: [111]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}, {\r\n\t\t\tgroupId: 33,\r\n\t\t\ttitle: 'Client settings',\r\n\t\t\tquestions: [\r\n\t\t\t{\r\n\t\t\t\tgroupId: 33,\r\n\t\t\t\tquestionId: 301,\r\n\t\t\t\ttext: 'Does client has promocode?',\r\n\t\t\t\twords : [],\r\n\t\t\t\tanswers: [222]\r\n\t\t\t}, {\r\n\t\t\t\tgroupId: 33,\r\n\t\t\t\tquestionId: 302,\r\n\t\t\t\ttext: 'What promocode do we use?',\r\n\t\t\t\twords : [],\r\n\t\t\t\tanswers: [114]\r\n\t\t\t}, {\r\n\t\t\t\tgroupId: 33,\r\n\t\t\t\tquestionId: 303,\r\n\t\t\t\ttext: 'Why taxes are less than 5%?',\r\n\t\t\t\twords : [],\r\n\t\t\t\tanswers: [111, 114]\r\n\t\t\t}, {\r\n\t\t\t\tgroupId: 33,\r\n\t\t\t\tquestionId: 304,\r\n\t\t\t\ttext: 'When do we do something?',\r\n\t\t\t\twords : [],\r\n\t\t\t\tanswers: [113]\r\n\t\t\t}\r\n\t\t\t]\r\n\t}\r\n];","// Import redux types\r\nimport { ActionCreator, Dispatch } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\n// import axios from 'axios';\r\n\r\n// Import Answer Typing\r\nimport { IAnswer, IAnswerState } from './types';\r\n\r\n// Create Action Constants\r\nexport enum AnswerActionTypes {\r\n  GET_ALL_ANSWERS = 'GET_ALL_ANSWERS',\r\n  GET_ANSWER = 'GET_ANSWER',\r\n  ADD_ANSWER = 'ADD_ANSWER',\r\n  EDIT_ANSWER = 'EDIT_ANSWER',\r\n  REMOVE_ANSWER = 'REMOVE_ANSWER',\r\n  STORE_ANSWER = 'STORE_ANSWER',\r\n  CANCEL_ANSWER = 'CANCEL_ANSWER',\r\n  // localSTorage\r\n  STORE_ANSWERS_TO_LOCAL_STORAGE = 'STORE_ANSWERS_TO_LOCAL_STORAGE'\r\n}\r\n\r\n// Interface for Get All Action Type\r\nexport interface IGetAll {\r\n\ttype: AnswerActionTypes.GET_ALL_ANSWERS;\r\n\tanswers: IAnswer[];\r\n }\r\n \r\nexport interface IGet {\r\n\ttype: AnswerActionTypes.GET_ANSWER;\r\n\tanswer: IAnswer;\r\n}\r\n\r\nexport interface IAdd {\r\n\ttype: AnswerActionTypes.ADD_ANSWER;\r\n}\r\n\r\nexport interface IEdit {\r\n\ttype: AnswerActionTypes.EDIT_ANSWER;\r\n\tanswer: IAnswer;\r\n}\r\n\r\nexport interface IRemove {\r\n\ttype: AnswerActionTypes.REMOVE_ANSWER;\r\n\tanswerId: number;\r\n}\r\n\r\nexport interface IStore {\r\n\ttype: AnswerActionTypes.STORE_ANSWER;\r\n\tanswer: IAnswer;\r\n}\r\n\r\nexport interface ICancel {\r\n\ttype: AnswerActionTypes.CANCEL_ANSWER;\r\n}\r\n\r\nexport interface IStoreAnswersToLocalStorage {\r\n\ttype: AnswerActionTypes.STORE_ANSWERS_TO_LOCAL_STORAGE;\r\n}\r\n\r\n// Combine the action types with a union (we assume there are more)\r\nexport type AnswerActions = IGetAll | IGet | IAdd | IEdit | IRemove | IStore | ICancel |\r\n\t\t\t\t\tIStoreAnswersToLocalStorage;\r\n\r\nconst isWebStorageSupported = () => 'localStorage' in window\r\n\r\n// Get All Action <Promise<Return Type>, State Interface, Type of Param, Type of Action>\r\nexport const getAllAnswers: ActionCreator<\r\n  ThunkAction<Promise<any>, IAnswerState, null, IGetAll>\r\n> = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\r\n\t\tif (isWebStorageSupported()) {\r\n\t\t\tconst sAnswers = localStorage.getItem(SUPPORT_ANSWERS);\r\n\t\t\tif (sAnswers !== null) {\r\n\t\t\t\t// console.log('localStorage:', sAnswers);\r\n\t\t\t\tconst answers: IAnswer[] = JSON.parse(sAnswers);\r\n\t\t\t\tanswers.map(g => storageAnswers.push(g))\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tstorageAnswersDemo.map(g => storageAnswers.push(g))\t\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tstorageAnswersDemo.map(g => storageAnswers.push(g))\r\n\t\t}\r\n\r\n\t\tconst response = await getAnswersFromLocalStorage(); \r\n      dispatch({\r\n        type: AnswerActionTypes.GET_ALL_ANSWERS,\r\n        answers: response.data.results,\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const addAnswer: ActionCreator<any> = () => {\r\n  return (dispatch: Dispatch) => {\r\n    try {\r\n      dispatch({\r\n        type: AnswerActionTypes.ADD_ANSWER\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getAnswer: ActionCreator<\r\n  ThunkAction<Promise<any>, IAnswerState, null, IGet>\r\n> = (answerId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tconst response = await getAnswersFromLocalStorage(); \r\n\t\tconst answers: IAnswer[] = response.data.results;\r\n\r\n      dispatch({\r\n        type: AnswerActionTypes.GET_ANSWER,\r\n        answer: answers.find(a => a.answerId === answerId),\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const editAnswer: ActionCreator<\r\n  ThunkAction<Promise<any>, IAnswerState, null, IEdit>\r\n> = (answerId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tconst response = await getAnswersFromLocalStorage(); \r\n\t\tconst answers: IAnswer[] = response.data.results;\r\n\t\t// warning: store answer, after upodate, to local storage\r\n      dispatch({\r\n        type: AnswerActionTypes.EDIT_ANSWER,\r\n        answer: answers.find(a => a.answerId === answerId),\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeAnswer: ActionCreator<\r\n  ThunkAction<Promise<any>, IAnswerState, null, IGetAll>\r\n> = (answerId: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\tawait removeAnswerFromLocalStorage(answerId); \r\n\t\t// warning: store answer, after upodate, to local storage\r\n      dispatch({\r\n        type: AnswerActionTypes.REMOVE_ANSWER,\r\n        answerId: answerId,\r\n\t\t});\r\n\t\tif (isWebStorageSupported())\r\n\t\t\tdispatch({type: AnswerActionTypes.STORE_ANSWERS_TO_LOCAL_STORAGE });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const storeAnswer: ActionCreator<\r\n  ThunkAction<Promise<any>, IAnswerState, null, IAdd>\r\n> = (answer: IAnswer, formMode: string) => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n\t\t if (formMode === 'add') {\r\n\t\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\t\tawait addAnswerToLocalStorage(answer); \r\n\t\t\tdispatch({\r\n\t\t\t\ttype: AnswerActionTypes.STORE_ANSWER,\r\n\t\t\t\tanswer: answer,\r\n\t\t\t});\r\n\t\t }\r\n\t\t else {\r\n\t\t\t// const response = await axios.get('https://swapi.co/api/people/');\r\n\t\t\tawait updateAnswerFromLocalStorage(answer); \r\n\t\t\tdispatch({\r\n\t\t\t\ttype: AnswerActionTypes.STORE_ANSWER,\r\n\t\t\t\tanswer\r\n\t\t\t});\r\n\t\t }\r\n\t\t if (isWebStorageSupported())\r\n\t\t \tdispatch({type: AnswerActionTypes.STORE_ANSWERS_TO_LOCAL_STORAGE });\t\t \r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const cancelAnswer: ActionCreator<any> = () => {\r\n\treturn (dispatch: Dispatch) => {\r\n\t  try {\r\n\t\t dispatch({\r\n\t\t\ttype: AnswerActionTypes.CANCEL_ANSWER\r\n\t\t });\r\n\t  } catch (err) {\r\n\t\t console.error(err);\r\n\t  }\r\n\t};\r\n };\r\n \r\n\r\nconst getAnswersFromLocalStorage = (): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n  \t\t  resolve({\r\n  \t\t\t 'status': 200,\r\n  \t\t\t 'content-type': 'application/json',\r\n  \t\t\t 'data' : {\r\n  \t\t\t\t'results': storageAnswers\r\n  \t\t\t }\r\n  \t\t  })\r\n  \t\t}, 50)\r\n  \t })\r\n  \r\n  }\r\n\r\nconst addAnswerToLocalStorage = (answer: IAnswer): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tresolve({\r\n\t\t\t\t'status': 200,\r\n\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t'data' : {\r\n\t\t\t\t'results': answer\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}, 50)\r\n\t})\r\n}\r\n\r\nconst updateAnswerFromLocalStorage = (answer: IAnswer): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tresolve({\r\n\t\t\t\t'status': 200,\r\n\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t'data' : {\r\n\t\t\t\t'results': answer\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}, 50)\r\n\t})\r\n}\r\n\r\n\r\nconst removeAnswerFromLocalStorage = (answerId: number): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tresolve({\r\n\t\t\t\t'status': 200,\r\n\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t'data' : {\r\n\t\t\t\t'results': answerId\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}, 50)\r\n\t})\r\n}\r\n\r\n//////////////////////////////////////////////////\r\n// localStorage\r\n \r\nexport const SUPPORT_ANSWERS = 'SUPPORT_ANSWERS' \r\n\r\nconst storageAnswers: IAnswer[] = [\r\n]\r\n\r\nconst storageAnswersDemo: IAnswer[] = [\r\n\t{\r\n\t\tanswerId: 111,\r\n\t\ttext: 'You should do the following',\r\n\t\twords: [],\r\n\t\toptions : []\r\n\t}, {\r\n\t\tanswerId: 112,\r\n\t\ttext: 'Also do the rest of important',\r\n\t\twords: [],\r\n\t\toptions : []\r\n\t},\t{\r\n\t\tanswerId: 113,\r\n\t\ttext: 'Try something else',\r\n\t\twords: [],\r\n\t\toptions : []\r\n\t}, {\r\n\t\tanswerId: 114,\r\n\t\ttext: 'Contact our support',\r\n\t\twords: [],\r\n\t\toptions : []\r\n\t},\t{\r\n\t\tanswerId: 115,\r\n\t\ttext: 'Do whatever you want!',\r\n\t\twords: [],\r\n\t\toptions : []\r\n\t},\t{\r\n\t\tanswerId: 116,\r\n\t\ttext: 'Jump through the window.',\r\n\t\twords: [],\r\n\t\toptions : []\r\n\t},\r\n];\r\n\r\n\r\n","// Import Reducer type\r\nimport { Reducer } from 'redux';\r\n\r\nimport {\r\n  QuestionActions,\r\n  QuestionActionTypes,\r\n  SUPPORT_QUESTIONS,\r\n  reloadQuestionsFromLocalStorage\r\n} from './actions';\r\n\r\nimport { IQuestion, IQuestionGroup } from './types'\r\n\r\nexport const initialQuestion: IQuestion = {\r\n\tgroupId: 0,\r\n\tquestionId: 0,\r\n\ttext: '',\r\n\twords: [],\r\n\tanswers: []\r\n };\r\n\r\n export const initialQuestionGroup: IQuestionGroup = {\r\n\tgroupId: 0,\r\n\ttitle: '',\r\n\tquestions: []\r\n };\r\n\r\n\r\n// Define the Question State\r\nexport interface IQuestionState {\r\n  readonly questionGroups: IQuestionGroup[];\r\n  readonly question: IQuestion | undefined;\r\n  loading: boolean,\r\n  formMode: string;\r\n  groupIdEditing: number;\r\n}\r\n\r\n\r\n// Define the initial state\r\nexport const initialQuestionState: IQuestionState = {\r\n\tquestionGroups: [],\r\n\tquestion: undefined,\r\n\tloading: false,\r\n\tformMode: 'display',\r\n\tgroupIdEditing: 0,\r\n};\r\n\r\n\r\n/*\r\nconst getQuestion = (\r\n\t\t\tquestionGroups: IQuestionGroup[], \r\n\t\t\tgroupId: number, \r\n\t\t\tquestionId: number) : IQuestion|undefined => {\r\n\tconst group = questionGroups.find(g => g.groupId === groupId)\r\n\tif (!group)\r\n\t\treturn undefined;\r\n\r\n\tconst question = group\r\n\t\t\t\t\t\t\t.questions\r\n\t\t\t\t\t\t\t.find(q => q.questionId === questionId);\r\n\treturn question;\r\n}\r\n*/\r\n\r\n\r\nexport const questionReducer: Reducer<IQuestionState, QuestionActions> = (\r\n  state = initialQuestionState,\r\n  action\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase QuestionActionTypes.GET_ALL_QUESTIONS: {\r\n\t\t\t\r\n\t\t\tfor (let section of action.questionGroups)\r\n\t\t\t\tfor (let question of section.questions) \r\n\t\t\t\t\tquestion.words = question.text.split(' ');\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tquestionGroups: action.questionGroups,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase QuestionActionTypes.GET_QUESTION: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tquestion: action.question,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase QuestionActionTypes.ADD_QUESTION: {\r\n\t\t\t// const group =  state.questionGroups.find(g => g.groupId === action.groupId);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tformMode: 'add',\r\n\t\t\t\tquestion: {...initialQuestion, groupId: action.groupId, questionId: action.questionId }\r\n\t\t\t};\r\n\t\t} \r\n\r\n\t\tcase QuestionActionTypes.EDIT_QUESTION: {\r\n\t\t\treturn {\r\n\t\t\t  ...state,\r\n\t\t\t  formMode: 'edit',\r\n\t\t\t  question: {...action.question}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase QuestionActionTypes.STORE_QUESTION: {\r\n\t\t\t// const group = state.questionGroups.find(g => g.groupId === action.question.groupId);\r\n\t\t\tif (state.formMode === 'add') {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'edit',\r\n\t\t\t\t\tquestionGroups: state.questionGroups.map(g => g.groupId !== action.question.groupId ? \r\n\t\t\t\t\t\t{ ...g, questions: [...g.questions] } \r\n\t\t\t\t\t\t: \r\n\t\t\t\t\t\t{ ...g, questions: [...g.questions, { ...action.question }]\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'edit',\r\n\t\t\t\t\tquestionGroups: state.questionGroups.map(g => g.groupId !== action.question.groupId ? \r\n\t\t\t\t\t\t{ ...g, questions: [...g.questions] } \r\n\t\t\t\t\t\t: \r\n\t\t\t\t\t\t{ ...g, questions: g.questions\r\n\t\t\t\t\t\t\t\t\t\t.map(q => q.questionId !== action.question.questionId ? \r\n\t\t\t\t\t\t\t\t\t\t\tq : { ...action.question }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)};\r\n\t\t\t}\r\n\t\t}    \r\n\r\n\t\tcase QuestionActionTypes.CANCEL_QUESTION: {\r\n\t\t\treturn {\r\n\t\t\t  ...state,\r\n\t\t\t  formMode: 'display',\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tcase QuestionActionTypes.REMOVE_QUESTION: {\r\n\t\t\treturn {\r\n\t\t\t  ...state,\r\n\t\t\t  formMode: 'display',\r\n\t\t\t  question: undefined,\r\n\t\t\t  questionGroups: state.questionGroups.map(g => g.groupId !== action.groupId ? \r\n\t\t\t\t\t{ ...g, questions: [...g.questions] } \r\n\t\t\t\t\t: \r\n\t\t\t\t\t{ ...g, questions: g.questions.filter(q => q.questionId !== action.questionId)\t}\r\n\t\t\t\t)\r\n\t\t\t};\r\n\t\t}   \r\n\r\n\t\t// Question answers\r\n\t\tcase QuestionActionTypes.REMOVE_QUESTION_ANSWER: {\r\n\t\t\t return {\r\n\t\t\t   ...state,\r\n\t\t\t  \tquestionGroups: state.questionGroups.map(g => g.groupId !== action.groupId ? \r\n\t\t\t\t\t{ ...g, questions: [...g.questions] } \r\n\t\t\t\t\t: \r\n\t\t\t\t\t{ ...g, questions: g.questions.map(q => q.questionId !== action.questionId ?\r\n\t\t\t\t\t\t{ ...q, answers: [...q.answers] } \r\n\t\t\t\t\t\t: \r\n\t\t\t\t\t\t{ ...q, answers: q.answers.filter(answerId => answerId !== action.answerId) }\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}   \r\n\r\n\t\tcase QuestionActionTypes.ASSIGN_QUESTION_ANSWER: {\r\n\t\t\treturn {\r\n\t\t\t  \t...state,\r\n\t\t\t\t questionGroups: state.questionGroups.map(g => g.groupId !== action.groupId ? \r\n\t\t\t\t  { ...g, questions: [...g.questions] } \r\n\t\t\t\t  : \r\n\t\t\t\t  { ...g, questions: g.questions.map(q => q.questionId !== action.questionId ?\r\n\t\t\t\t\t  { ...q, answers: [...q.answers] } \r\n\t\t\t\t\t  : \r\n\t\t\t\t\t  { ...q, answers: [...q.answers, action.answerId] }\r\n\t\t\t\t  )\r\n\t\t\t  })\r\n\t\t  }\r\n\t  }   \r\n\r\n\t\t///////////////////////////////////////////////////////////////////////////////////\r\n\t\t// groups\r\n\r\n\t\tcase QuestionActionTypes.ADD_GROUP: {\r\n\t\t\t// const group =  state.questionGroups.find(g => g.groupId === action.groupId);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgroupIdEditing: action.groupId,\r\n\t\t\t\tquestionGroups: [...state.questionGroups, { ...initialQuestionGroup, title: \"New Section\", groupId: action.groupId }]\r\n\t\t\t};\r\n\t\t} \r\n\r\n\t\tcase QuestionActionTypes.EDIT_GROUP: {\r\n\t\t\treturn {\r\n\t\t\t  ...state,\r\n\t\t\t  groupIdEditing: action.group.groupId\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase QuestionActionTypes.STORE_GROUP: {\r\n\t\t\t// const group = state.questionGroups.find(g => g.groupId === action.question.groupId);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgroupIdEditing: 0,\r\n\t\t\t\tquestionGroups: state.questionGroups.map(g => g.groupId !== action.group.groupId ? \r\n\t\t\t\t\tg \r\n\t\t\t\t\t: \r\n\t\t\t\t\t{ ...g, title: action.group.title }\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}    \r\n\t\r\n\t\tcase QuestionActionTypes.REMOVE_GROUP: {\r\n\t\t\treturn {\r\n\t\t\t  \t...state,\r\n\t\t\t  \tquestionGroups: state.questionGroups.reduce((acc: IQuestionGroup[], g) => {\r\n\t\t\t\t\tif (g.groupId !== action.groupId)\r\n\t\t\t\t\t\tacc.push({ ...g, questions: [...g.questions]})\r\n\t\t\t\t\treturn acc\r\n\t\t\t  \t}, [])\r\n\t\t\t};\r\n\t\t}   \t\t\r\n\t\t\t \r\n\t\tcase QuestionActionTypes.STORE_QUESTIONS_TO_LOCAL_STORAGE: {\r\n\t\t\tlocalStorage.setItem(SUPPORT_QUESTIONS, JSON.stringify(state.questionGroups));\r\n\t\t\treloadQuestionsFromLocalStorage(JSON.stringify(state.questionGroups));\r\n\t\t\treturn state;\r\n\t\t}   \t\t\r\n\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n","// Import Reducer type\r\nimport { Reducer } from 'redux';\r\nimport {\r\n  AnswerActions,\r\n  AnswerActionTypes,\r\n  SUPPORT_ANSWERS\r\n} from './actions';\r\n\r\nimport {IAnswer, IAnswerState } from './types'\r\n\r\nconst initialAnswer: IAnswer = {\r\n\tanswerId: 0,\r\n\ttext: '',\r\n\twords: [],\r\n\toptions: []\r\n};\r\n\r\nconst initialAnswerState: IAnswerState = {\r\n\tanswers: [],\r\n\tloading: false,\r\n\tformMode: 'display'\r\n};\r\n\r\n\r\nexport const answerReducer: Reducer<IAnswerState, AnswerActions> = (\r\n  state = initialAnswerState,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n\r\n\r\n   case AnswerActionTypes.GET_ALL_ANSWERS: {\r\n\t\treturn {\r\n        ...state,\r\n        answers: action.answers.map(answer => { return {...answer, words: answer.text.split(' ')} }),\r\n      };\r\n\t} \r\n \tcase AnswerActionTypes.GET_ANSWER: {\r\n      return {\r\n\t\t  ...state,\r\n        answer: action.answer\r\n      };\r\n\t}    \r\n\tcase AnswerActionTypes.ADD_ANSWER: {\r\n      return {\r\n\t\t  \t...state,\r\n\t\t  \tformMode: 'add',\r\n        \tanswer: { \r\n\t\t\t  ...initialAnswer, \r\n\t\t\t  answerId: state.answers.length === 0 ? 1 : Math.max(...state.answers.map(a => a.answerId)) + 1,\r\n\t\t\t}\r\n      };\r\n\t}    \t\r\n   case AnswerActionTypes.EDIT_ANSWER: {\r\n      return {\r\n\t\t  ...state,\r\n\t\t  formMode: 'edit',\r\n        answer: { ...action.answer, words: action.answer.text.split(' ')}\r\n      };\r\n\t}    \r\n\tcase AnswerActionTypes.STORE_ANSWER: {\r\n\t\tlet answers = [];\r\n\t\tif (state.formMode === 'add') {\r\n\t\t\tanswers = [...state.answers, { ...action.answer, words:  action.answer.text.split(' ')}]\r\n\t\t}\r\n\t\telse {\r\n\t\t\tanswers = state.answers.map(a => a.answerId === action.answer.answerId ? { ...action.answer, words:  action.answer.text.split(' ')} : a)\r\n\t\t}\r\n      return {\r\n\t\t  ...state,\r\n\t\t  formMode: 'edit',\r\n        answers: answers\r\n      };\r\n\t}    \r\n\tcase AnswerActionTypes.CANCEL_ANSWER: {\r\n      return {\r\n        ...state,\r\n\t\t  formMode: 'display',\r\n      };\r\n\t}\r\n\r\n\tcase AnswerActionTypes.REMOVE_ANSWER: {\r\n      return {\r\n\t\t  ...state,\r\n\t\t  formMode: 'display',\r\n\t\t  answers: state.answers.filter(a => a.answerId !== action.answerId)\r\n      };\r\n\t}\r\n\r\n\tcase AnswerActionTypes.STORE_ANSWERS_TO_LOCAL_STORAGE: {\r\n\t\tlocalStorage.setItem(SUPPORT_ANSWERS, JSON.stringify(state.answers));\r\n\t\treturn state;\r\n\t}   \t\r\n\r\n\tdefault:\r\n   \treturn state;\r\n  }\r\n};","import { applyMiddleware, combineReducers, createStore, Store } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport {\r\n  questionReducer,\r\n  IQuestionState,\r\n} from '../Questions/reducer';\r\n\r\nimport {\tanswerReducer } from '../Answers/reducer';\r\nimport {\tIAnswerState } from '../Answers/types';\r\n\r\n\r\nexport interface IAppState {\r\n  questionState: IQuestionState;\r\n  answerState: IAnswerState;\r\n}\r\n\r\n// Create the root reducer\r\nconst rootReducer = combineReducers<IAppState>({\r\n  questionState: questionReducer,\r\n  answerState: answerReducer\r\n});\r\n\r\n// Create a configure store function of type `IAppState`\r\nexport default function configureStore(): Store<IAppState, any> {\r\n  const store = createStore(rootReducer, undefined, applyMiddleware(thunk));\r\n  return store;\r\n}","import * as React from 'react';\r\n\r\nimport Autosuggest from 'react-autosuggest';\r\nimport AutosuggestHighlightMatch from \"autosuggest-highlight/match\";\r\nimport AutosuggestHighlightParse from \"autosuggest-highlight/parse\";\r\n\r\n\r\nimport { IQuestion, IQuestionGroup }  from '../Questions/types'\r\nimport './AutoSuggest.css'\r\n\r\n\r\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expression\r\n// s#Using_Special_Characters\r\nfunction escapeRegexCharacters(str: string): string {\r\n\treturn str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\n\r\n\r\nconst QuestionAutosuggestMulti = Autosuggest as { new (): Autosuggest<IQuestion, IQuestionGroup> };\r\n\r\n\r\nexport class AutoSuggest extends React.Component<{questionGroups: IQuestionGroup[], onSelectQuestion: (questionId: number) => void }, any> {\r\n\t// region Fields\r\n\r\n\tstate: any;\r\n\t// endregion region Constructor\r\n\tconstructor(props: any) {\r\n\t\t super(props);\r\n\r\n\t\t this.state = {\r\n\t\t\t  value: '',\r\n\t\t\t  suggestions: this.getSuggestions(''),\r\n\t\t\t  highlighted: ''\r\n\t\t };\r\n\t}\r\n\t// endregion region Rendering methods\r\n\trender(): JSX.Element {\r\n\t\t const {value, suggestions} = this.state;\r\n\r\n\t\t return <QuestionAutosuggestMulti\r\n\t\t \t  onSuggestionsClearRequested={this.onSuggestionsClearRequested}  // (sl) added\r\n\t\t\t  multiSection={true}\r\n\t\t\t  suggestions={suggestions}\r\n\t\t\t  onSuggestionsFetchRequested={this.onSuggestionsFetchRequested.bind(this)}\r\n\t\t\t  onSuggestionSelected={this.onSuggestionSelected.bind(this)}\r\n\t\t\t  getSuggestionValue={this.getSuggestionValue}\r\n\t\t\t  renderSuggestion={this.renderSuggestion}\r\n\t\t\t  renderSectionTitle={this.renderSectionTitle}\r\n\t\t\t  getSectionSuggestions={this.getSectionSuggestions}\r\n\t\t\t  // onSuggestionHighlighted={this.onSuggestionHighlighted} (sl)\r\n\t\t\t  onSuggestionHighlighted={this.onSuggestionHighlighted.bind(this)}  \r\n\t\t\t  highlightFirstSuggestion={true}\r\n\t\t\t  // renderInputComponent={this.renderInputComponent}\r\n\t\t\t  renderSuggestionsContainer={this.renderSuggestionsContainer}\r\n\t\t\t  inputProps={{\r\n\t\t\t\t\tplaceholder: `Type 'promocode'`,\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t\tonChange: (e, changeEvent) => this.onChange(e, changeEvent),\r\n\t\t\t  }}/>;\r\n\t}\r\n\r\n\tprotected onSuggestionsClearRequested = () => {\r\n\t\tthis.setState({\r\n\t\t  suggestions: []\r\n\t\t});\r\n\t };\r\n  \r\n  \r\n\r\n\tprotected onSuggestionSelected(event: React.FormEvent<any>, data: Autosuggest.SuggestionSelectedEventData<IQuestion>): void {\r\n\t\t const question: IQuestion = data.suggestion;\r\n\t\t // alert(`Selected question is ${question.questionId} (${question.text}).`);\r\n\t\t this.props.onSelectQuestion(question.questionId);\r\n\t}\r\n\r\n\t/*\r\n\tprotected renderSuggestion(suggestion: Question, params: Autosuggest.RenderSuggestionParams): JSX.Element {\r\n\t\t const className = params.isHighlighted ? \"highlighted\" : undefined;\r\n\t\t return <span className={className}>{suggestion.name}</span>;\r\n\t}\r\n\t*/\r\n\r\n\tprotected renderSuggestion(suggestion: IQuestion, params: Autosuggest.RenderSuggestionParams): JSX.Element {\r\n\t\t// const className = params.isHighlighted ? \"highlighted\" : undefined;\r\n\t\t//return <span className={className}>{suggestion.name}</span>;\r\n\t\tconst matches = AutosuggestHighlightMatch(suggestion.text, params.query);\r\n\t\tconst parts = AutosuggestHighlightParse(suggestion.text, matches);\r\n\t \r\n\t\treturn (\r\n\t\t  <span>\r\n\t\t\t {parts.map((part, index) => {\r\n\t\t\t\tconst className = part.highlight ? 'react-autosuggest__suggestion-match' : undefined;\r\n\t \r\n\t\t\t\treturn (\r\n\t\t\t\t  <span className={className} key={index}>\r\n\t\t\t\t\t {part.text}\r\n\t\t\t\t  </span>\r\n\t\t\t\t);\r\n\t\t\t })}\r\n\t\t  </span>\r\n\t\t);\r\n\t}\r\n\r\n\tprotected renderSectionTitle(section: IQuestionGroup): JSX.Element {\r\n\t\t return <strong>{section.title}</strong>;\r\n\t}\r\n\r\n\tprotected renderInputComponent(inputProps: Autosuggest.InputProps<IQuestion>): JSX.Element {\r\n\t\t const { onChange, onBlur, ...restInputProps } = inputProps;\r\n\t\t return (\r\n\t\t\t  <div>\r\n\t\t\t\t\t<input {...restInputProps} />\r\n\t\t\t  </div>\r\n\t\t );\r\n\t}\r\n\r\n\tprotected renderSuggestionsContainer({containerProps, children, query}: Autosuggest.RenderSuggestionsContainerParams): JSX.Element {\r\n\t\t return (\r\n\t\t\t  <div {...containerProps}>\r\n\t\t\t\t\t<span>{children}</span>\r\n\t\t\t  </div>\r\n\t\t );\r\n\t}\r\n\t// endregion region Event handlers\r\n\tprotected onChange(event: React.FormEvent<any>, {newValue, method}: Autosuggest.ChangeEvent): void {\r\n\t\t this.setState({value: newValue});\r\n\t}\r\n\r\n\tprotected onSuggestionsFetchRequested({value}: any): void {\r\n\t\t this.setState({\r\n\t\t\t  suggestions: this.getSuggestions(value)\r\n\t\t });\r\n\t}\r\n\r\n\tprivate anyWord = (valueWordRegex: RegExp[], questionWords: string[]) : boolean => {\r\n\t\tfor (let valWordRegex of valueWordRegex)\r\n\t\t\tfor (let questionWord of questionWords)\r\n\t\t\t\tif (valWordRegex.test(questionWord))\r\n\t\t\t\t\treturn true;\r\n\t\treturn false;\r\n\t} \r\n\t// endregion region Helper methods\r\n\tprotected getSuggestions(value: string): IQuestionGroup[] {\r\n\t\tconst escapedValue = escapeRegexCharacters(value.trim());\r\n\r\n\t\tif (escapedValue === '') {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tconst valueWords = escapedValue.split(' ');\r\n\t\tconst valueWordRegex = valueWords.map(word => new RegExp(word, 'i') )\r\n\t\t// const regex = new RegExp('^' + escapedValue, 'i');\r\n\t\t// const regex = new RegExp(escapedValue, 'i');\r\n\r\n\t\t// return AutoSuggest.questions\t \r\n\t\t//  return this.props.questionGroups\r\n\t\t// \t\t.map(section => {\r\n\t\t// \t\t\treturn {\r\n\t\t// \t\t\t\t\ttitle: section.title,\r\n\t\t// \t\t\t\t\tquestions: section\r\n\t\t// \t\t\t\t\t\t.questions\r\n\t\t// \t\t\t\t\t\t.filter(question => regex.test(question.text))\r\n\t\t// \t\t\t};\r\n\t\t// \t\t})\r\n\t\t// \t\t.filter(section => section.questions.length > 0);\r\n\r\n\t\treturn this.props.questionGroups\r\n\t\t\t.map(group => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t\tgroupId: group.groupId,\r\n\t\t\t\t\t\ttitle: group.title,\r\n\t\t\t\t\t\tquestions: group\r\n\t\t\t\t\t\t\t\t\t\t.questions\r\n\t\t\t\t\t\t\t\t\t\t.filter(question => this.anyWord(valueWordRegex, question.words!))\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t\t.filter(section => section.questions.length > 0);\r\n\t}\r\n\r\n\tprotected getSuggestionValue(suggestion: IQuestion) {\r\n\t\t return suggestion.text;\r\n\t}\r\n\r\n\tprotected getSectionSuggestions(section: IQuestionGroup) {\r\n\t\t return section.questions;\r\n\t}\r\n\r\n\tprotected onSuggestionHighlighted(params: Autosuggest.SuggestionHighlightedParams): void {\r\n\t\t this.setState({\r\n\t\t\t  highlighted: params.suggestion\r\n\t\t });\r\n\t}\r\n\t// endregion\r\n}\r\n\r\n","import * as React from 'react';\r\n\r\nimport Autosuggest from 'react-autosuggest';\r\nimport AutosuggestHighlightMatch from \"autosuggest-highlight/match\";\r\nimport AutosuggestHighlightParse from \"autosuggest-highlight/parse\";\r\n\r\n\r\nimport { IAnswer }  from '../Answers/types'\r\nimport './AutoSuggest.css'\r\nimport { IQuestion } from '../Questions/types';\r\n\r\n\r\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expression\r\n// s#Using_Special_Characters\r\nfunction escapeRegexCharacters(str: string): string {\r\n\treturn str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\n\r\n\r\nconst QuestionAutosuggestMulti = Autosuggest as { new (): Autosuggest<IAnswer> };\r\n\r\ninterface IProps {\r\n\tanswersUnassigned: IAnswer[], \r\n\tquestion: IQuestion,\r\n\tassignQuestionAnswer: (groupId: number, questionId: number, answerId: number) => void\r\n}\r\n\r\nexport class AutoSuggestAnswer extends React.Component<IProps, any> {\r\n\r\n\tstate: any;\r\n\r\n\tconstructor(props: any) {\r\n\t\t super(props);\r\n\r\n\t\t this.state = {\r\n\t\t\t  value: '',\r\n\t\t\t  suggestions: this.getSuggestions(''),\r\n\t\t\t  highlighted: ''\r\n\t\t };\r\n\t}\r\n\t// endregion region Rendering methods\r\n\trender(): JSX.Element {\r\n\t\t const {value, suggestions} = this.state;\r\n\r\n\t\t return <QuestionAutosuggestMulti\r\n\t\t \t  onSuggestionsClearRequested={this.onSuggestionsClearRequested}  // (sl) added\r\n\t\t\t  multiSection={false}\r\n\t\t\t  suggestions={suggestions}\r\n\t\t\t  onSuggestionsFetchRequested={this.onSuggestionsFetchRequested.bind(this)}\r\n\t\t\t  onSuggestionSelected={this.onSuggestionSelected.bind(this)}\r\n\t\t\t  getSuggestionValue={this.getSuggestionValue}\r\n\t\t\t  renderSuggestion={this.renderSuggestion}\r\n\t\t\t  // onSuggestionHighlighted={this.onSuggestionHighlighted} (sl)\r\n\t\t\t  onSuggestionHighlighted={this.onSuggestionHighlighted.bind(this)}  \r\n\t\t\t  highlightFirstSuggestion={true}\r\n\t\t\t  // renderInputComponent={this.renderInputComponent}\r\n\t\t\t  renderSuggestionsContainer={this.renderSuggestionsContainer}\r\n\t\t\t  inputProps={{\r\n\t\t\t\t\tplaceholder: `Type 'contact'`,\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t\tonChange: (e, changeEvent) => this.onChange(e, changeEvent),\r\n\t\t\t  }}/>;\r\n\t}\r\n\r\n\tprotected onSuggestionsClearRequested = () => {\r\n\t\tthis.setState({\r\n\t\t  suggestions: []\r\n\t\t});\r\n\t };\r\n  \r\n  \r\n\r\n\tprotected onSuggestionSelected(event: React.FormEvent<any>, data: Autosuggest.SuggestionSelectedEventData<IAnswer>): void {\r\n\t\t const answer: IAnswer = data.suggestion;\r\n\t\t // alert(`Selected question is ${question.answerId} (${question.text}).`);\r\n\t\t this.props.assignQuestionAnswer(\r\n\t\t\t this.props.question.groupId,\r\n\t\t\t this.props.question.questionId, \r\n\t\t\t answer.answerId);\r\n\t}\r\n\r\n\t/*\r\n\tprotected renderSuggestion(suggestion: Question, params: Autosuggest.RenderSuggestionParams): JSX.Element {\r\n\t\t const className = params.isHighlighted ? \"highlighted\" : undefined;\r\n\t\t return <span className={className}>{suggestion.name}</span>;\r\n\t}\r\n\t*/\r\n\r\n\tprotected renderSuggestion(suggestion: IAnswer, params: Autosuggest.RenderSuggestionParams): JSX.Element {\r\n\t\t// const className = params.isHighlighted ? \"highlighted\" : undefined;\r\n\t\t//return <span className={className}>{suggestion.name}</span>;\r\n\t\tconst matches = AutosuggestHighlightMatch(suggestion.text, params.query);\r\n\t\tconst parts = AutosuggestHighlightParse(suggestion.text, matches);\r\n\t \r\n\t\treturn (\r\n\t\t  <span>\r\n\t\t\t {parts.map((part, index) => {\r\n\t\t\t\tconst className = part.highlight ? 'react-autosuggest__suggestion-match' : undefined;\r\n\t \r\n\t\t\t\treturn (\r\n\t\t\t\t  <span className={className} key={index}>\r\n\t\t\t\t\t {part.text}\r\n\t\t\t\t  </span>\r\n\t\t\t\t);\r\n\t\t\t })}\r\n\t\t  </span>\r\n\t\t);\r\n\t}\r\n\r\n\tprotected renderInputComponent(inputProps: Autosuggest.InputProps<IAnswer>): JSX.Element {\r\n\t\t const { onChange, onBlur, ...restInputProps } = inputProps;\r\n\t\t return (\r\n\t\t\t  <div>\r\n\t\t\t\t\t<input {...restInputProps} />\r\n\t\t\t  </div>\r\n\t\t );\r\n\t}\r\n\r\n\tprotected renderSuggestionsContainer({containerProps, children, query}: Autosuggest.RenderSuggestionsContainerParams): JSX.Element {\r\n\t\t return (\r\n\t\t\t  <div {...containerProps}>\r\n\t\t\t\t\t<span>{children}</span>\r\n\t\t\t  </div>\r\n\t\t );\r\n\t}\r\n\t// endregion region Event handlers\r\n\tprotected onChange(event: React.FormEvent<any>, {newValue, method}: Autosuggest.ChangeEvent): void {\r\n\t\t this.setState({value: newValue});\r\n\t}\r\n\r\n\tprotected onSuggestionsFetchRequested({value}: any): void {\r\n\t\t this.setState({\r\n\t\t\t  suggestions: this.getSuggestions(value)\r\n\t\t });\r\n\t}\r\n\r\n\tprivate anyWord = (valueWordRegex: RegExp[], questionWords: string[]) : boolean => {\r\n\t\tfor (let valWordRegex of valueWordRegex)\r\n\t\t\tfor (let questionWord of questionWords)\r\n\t\t\t\tif (valWordRegex.test(questionWord))\r\n\t\t\t\t\treturn true;\r\n\t\treturn false;\r\n\t} \r\n\t// endregion region Helper methods\r\n\tprotected getSuggestions(value: string): IAnswer[] {\r\n\t\tconst escapedValue = escapeRegexCharacters(value.trim());\r\n\r\n\t\tif (escapedValue === '') {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tconst valueWords = escapedValue.split(' ');\r\n\t\tconst valueWordRegex = valueWords.map(word => new RegExp(word, 'i') )\r\n\t\t// const regex = new RegExp('^' + escapedValue, 'i');\r\n\t\t// const regex = new RegExp(escapedValue, 'i');\r\n\r\n\t\treturn this.props.answersUnassigned.filter(answer => this.anyWord(valueWordRegex, answer.words!))\r\n\t}\r\n\r\n\tprotected getSuggestionValue(suggestion: IAnswer) {\r\n\t\t return suggestion.text;\r\n\t}\r\n\r\n\r\n\tprotected onSuggestionHighlighted(params: Autosuggest.SuggestionHighlightedParams): void {\r\n\t\t this.setState({\r\n\t\t\t  highlighted: params.suggestion\r\n\t\t });\r\n\t}\r\n\t// endregion\r\n}\r\n\r\n","import * as React from 'react';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faWindowClose } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nimport { IQuestion } from '../types';\r\nimport { IAnswer } from '../../Answers/types';\r\nimport { AutoSuggestAnswer } from '../../components/AutoSuggestAnswer';\r\n\r\ninterface IProps {\r\n\tquestion: IQuestion,\r\n\tquestionAnswers: IAnswer[],\r\n\tanswers?: IAnswer[],\r\n\tcanEdit: boolean,\r\n\tformMode: string,\r\n\tremoveQuestionAnswer?: (groupId: number, questionId: number, answerId: number) => void,\r\n\tassignQuestionAnswer?: (groupId: number, questionId: number, answerId: number) => void\r\n}\r\n\r\nconst QuestionAnswers: React.FC<IProps> = (props: IProps) => {\r\n\t const { question, questionAnswers, answers, canEdit, formMode, removeQuestionAnswer, assignQuestionAnswer } = props;  // question, \r\n\t const answersUnassigned = answers?.filter(a => !question.answers.includes(a.answerId))\r\n    return (\r\n      <div className=\"name-container\">\r\n\t\t\t{ questionAnswers.length === 0 && \r\n\t\t\t\t<div>\r\n\t\t\t\t\tNo answers yet\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{ questionAnswers.length > 0 && \r\n\t\t\t\t<>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Answers</th>\r\n\t\t\t\t\t\t\t{ canEdit && formMode !== 'display' && <th></th> }\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{ questionAnswers.map(answer => \r\n\t\t\t\t\t\t\t<tr key={answer.answerId}>\r\n\t\t\t\t\t\t\t\t<td className=\"name\">\r\n\t\t\t\t\t\t\t\t\t{answer.text}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t{ canEdit && formMode !== 'display' &&\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"button-remove\" title=\"Remove Answer\" \r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => { \r\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tremoveQuestionAnswer!(question.groupId, question.questionId, answer.answerId)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faWindowClose}  color='lightblue' />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{canEdit && formMode !== 'display' && <tr>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<AutoSuggestAnswer question={question} answersUnassigned={answersUnassigned!} assignQuestionAnswer={assignQuestionAnswer!} />\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t</tr>}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default QuestionAnswers\r\n\r\n","import React from 'react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup'\r\nimport { IQuestion } from '../types';\r\nimport { IAnswer } from '../../Answers/types';\r\n\r\nimport QuestionAnswers from './QuestionAnswers'\r\n\r\ninterface IProps {\r\n\tquestion: IQuestion;\r\n\tquestionAnswers: IAnswer[];\r\n\tanswers: IAnswer[];\r\n\tformMode: string;\r\n\tcanEdit: boolean,\r\n\tcancel: () => void;\r\n\tsaveForm: (question: IQuestion, formMode: string) => void;\r\n\tremoveQuestionAnswer: (groupId: number, questionId: number, answerId: number) => void;\r\n\tassignQuestionAnswer: (groupId: number, questionId: number, answerId: number) => void; \t\r\n }\r\n\r\nexport const Form: React.FC<IProps> = (props: IProps) => {\r\n  const formik = useFormik({\r\n\t enableReinitialize: true,\r\n    initialValues: {\r\n\t\tgroupId: props.question.groupId,\r\n\t\tquestionId: props.question.questionId,\r\n      text: props.question.text,\r\n      answers: props.question.answers\r\n    },\r\n    validationSchema: Yup.object({\r\n      text: Yup.string()\r\n        .max(150, 'Must be 150 characters or less')\r\n        .required('Required'),\r\n      /*answers: Yup.string()\r\n        .max(20, 'Must be 20 characters or less')\r\n        .required('Required'),\r\n      email: Yup.string()\r\n        .email('Invalid email address')\r\n        .required('Required'),*/\r\n    }),\r\n    onSubmit: values => {\r\n\t\t// alert(JSON.stringify(values, null, 2));\r\n\t\tprops.saveForm(values, props.formMode)\r\n    },\r\n  });\r\n\r\n  return (\r\n\t  <>\r\n   \t<form onSubmit={formik.handleSubmit}>\r\n\r\n\t\t<label htmlFor=\"text\"></label>\r\n      <input\r\n        id=\"questionId\"\r\n        name=\"questionId\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.questionId}\r\n\t\t  disabled\r\n\t\t  style={{width: '50px'}}\r\n      />\r\n      {formik.touched.questionId && formik.errors.questionId ? (\r\n        <div>{formik.errors.questionId}</div>\r\n      ) : null}\r\n\r\n      <label htmlFor=\"text\"></label>\r\n      <input\r\n        id=\"text\"\r\n        name=\"text\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.text}\r\n\t\t  multiple\r\n      />\r\n      {formik.touched.text && formik.errors.text ? (\r\n        <div>{formik.errors.text}</div>\r\n      ) : null}\r\n\t\t\r\n\t\t\r\n\r\n\t\t{/* \r\n      <label htmlFor=\"answers\">Answers</label>\r\n      <input\r\n        id=\"answers\"\r\n        name=\"answers\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.answers}\r\n      />\r\n      {formik.touched.answers && formik.errors.answers ? (\r\n        <div>{formik.errors.answers}</div>\r\n      ) : null}\r\n\r\n\r\n\r\n      <label htmlFor=\"email\">Email Address</label>\r\n      <input\r\n        id=\"email\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.email}\r\n      />\r\n      {formik.touched.email && formik.errors.email ? (\r\n        <div>{formik.errors.email}</div>\r\n      ) : null} */}\r\n\r\n      {/* <button type=\"submit\">Submit</button> */}\r\n\t\t{ props.canEdit && \r\n\t\t\t<button onClick={() => props.cancel()}>Cancel</button>}\r\n\t\t{ props.canEdit && \r\n      \t<button type=\"submit\">Save</button>}\r\n    </form>\r\n\r\n\t\t<br />\r\n\t\t<QuestionAnswers \r\n\t\t\tquestion={props.question} \r\n\t\t\tquestionAnswers={props.questionAnswers}\r\n\t\t\tanswers={props.answers}\r\n\t\t\tcanEdit={props.canEdit}\r\n\t\t\tformMode={props.formMode}\r\n\t\t\tremoveQuestionAnswer={props.removeQuestionAnswer}\r\n\t\t\tassignQuestionAnswer={props.assignQuestionAnswer}\r\n\t\t/>\t \r\n\t\t</>\r\n  );\r\n};","import React from 'react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup'\r\nimport { IQuestion } from '../types';\r\nimport { IAnswer } from '../../Answers/types';\r\n\r\nimport QuestionAnswers from './QuestionAnswers'\r\n\r\ninterface IProps {\r\n\tquestion: IQuestion;\r\n\tquestionAnswers: IAnswer[];\r\n\tanswers: IAnswer[];\r\n\tformMode: string;\r\n\tcanEdit: boolean,\r\n\tedit: () => void;\r\n\tremove: () => void;\r\n\tremoveQuestionAnswer: (groupId: number, questionId: number, answerId: number) => void;\r\n\tassignQuestionAnswer: (groupId: number, questionId: number, answerId: number) => void; \t\r\n\r\n }\r\n\r\nexport const DisplayForm: React.FC<IProps> = (props: IProps) => {\r\n  const formik = useFormik({\r\n\t enableReinitialize: true,\r\n    initialValues: {\r\n\t\tgroupId: props.question.groupId,\r\n\t\tquestionId: props.question.questionId,\r\n      text: props.question.text,\r\n      answers: props.question.answers\r\n    },\r\n    validationSchema: Yup.object({\r\n      text: Yup.string()\r\n        .max(150, 'Must be 150 characters or less')\r\n        .required('Required'),\r\n      /*answers: Yup.string()\r\n        .max(20, 'Must be 20 characters or less')\r\n        .required('Required'),\r\n      email: Yup.string()\r\n        .email('Invalid email address')\r\n        .required('Required'),*/\r\n    }),\r\n    onSubmit: values => {\r\n\t\t// alert(JSON.stringify(values, null, 2));\r\n    },\r\n  });\r\n\r\n  return (\r\n    <form onSubmit={formik.handleSubmit}>\r\n\r\n\t\t<label htmlFor=\"text\"></label>\r\n      <input\r\n        id=\"questionId\"\r\n        name=\"questionId\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.questionId}\r\n\t\t  disabled\r\n\t\t  style={{width: '50px'}}\r\n      />\r\n      {formik.touched.questionId && formik.errors.questionId ? (\r\n        <div>{formik.errors.questionId}</div>\r\n      ) : null}\r\n\r\n      <label htmlFor=\"text\"></label>\r\n      <input\r\n        id=\"text\"\r\n        name=\"text\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.text}\r\n\t\t  disabled\r\n      />\r\n      {formik.touched.text && formik.errors.text ? (\r\n        <div>{formik.errors.text}</div>\r\n      ) : null}\r\n\t\t\r\n\t\t<br />\r\n\t\t<QuestionAnswers\r\n\t\t\tquestion={props.question}\r\n\t\t\tquestionAnswers={props.questionAnswers}\r\n\t\t\tcanEdit={props.canEdit}\r\n\t\t\tformMode={props.formMode}\r\n\t\t/>\r\n\r\n\t\t{/* \r\n      <label htmlFor=\"answers\">Answers</label>\r\n      <input\r\n        id=\"answers\"\r\n        name=\"answers\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.answers}\r\n      />\r\n      {formik.touched.answers && formik.errors.answers ? (\r\n        <div>{formik.errors.answers}</div>\r\n      ) : null}\r\n\r\n\r\n\r\n      <label htmlFor=\"email\">Email Address</label>\r\n      <input\r\n        id=\"email\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.email}\r\n      />\r\n      {formik.touched.email && formik.errors.email ? (\r\n        <div>{formik.errors.email}</div>\r\n      ) : null} */}\r\n\r\n      {/* <button type=\"submit\">Submit</button> */}\r\n\t\t{ props.canEdit &&\r\n\t\t\t<>\r\n\t\t\t<button onClick={() => props.edit()}>Edit</button>\r\n\t\t\t<button onClick={() => props.remove()}>Remove</button>\r\n\t\t\t</>\r\n\t\t}\r\n    </form>\r\n  );\r\n};","import { useRef, useState, useEffect } from 'react';\r\n\r\ninterface IHoverProps {\r\n\tisHovered: boolean;\r\n}\r\n\r\n// Hook\r\nexport function useHover() : [React.RefObject<HTMLDivElement>, IHoverProps] {\r\n\tconst [hoverProps, setValue] = useState({ isHovered: false });\r\n \r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n \r\n\tconst handleMouseOver = () => setValue({ isHovered: true });\r\n\tconst handleMouseOut = () => setValue({ isHovered: false });\r\n \r\n\tuseEffect(\r\n\t  () => {\r\n\t\t const node = divRef.current;\r\n\t\t if (node) {\r\n\t\t\tnode.addEventListener('mouseenter', () => handleMouseOver());\r\n\t\t\tnode.addEventListener('mouseleave', () => handleMouseOut());\r\n \r\n\t\t\treturn () => {\r\n\t\t\t\tnode.removeEventListener('mouseenter', () => handleMouseOver());\r\n\t\t\t\tnode.removeEventListener('mouseleave', () => handleMouseOut());\r\n\t\t\t};\r\n\t\t }\r\n\t  }, [divRef.current] // Recall only if ref changes\r\n\t);\r\n \r\n\treturn [divRef, hoverProps];\r\n}\r\n\r\n","import * as React from 'react';\r\n\r\nimport { useHover } from '../../common/useHover'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faWindowClose, faEdit } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { IQuestion } from '../types';\r\n\r\n\r\ninterface IQuestionRowProps {\r\n\tquestion: IQuestion;\r\n\tonSelectQuestion: (questionId: number) => IQuestion;\r\n\tedit: (groupId: number, questionId: number) => void;\r\n\tremove: (groupId: number, questionId: number) => void;\r\n}\r\n\r\nconst QuestionRow: React.FC<IQuestionRowProps> = (props: IQuestionRowProps) => {\r\n\r\n\tconst [hoverRef, hoverProps] = useHover();\r\n\r\n\tconst { question, onSelectQuestion, edit, remove } = props;\r\n\tconst { groupId, questionId } = question;\r\n\r\n   return (\r\n\t\t<div ref={hoverRef} className=\"name\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"question-button\"\r\n\t\t\t\tonClick={() => onSelectQuestion(questionId)}>\r\n\t\t\t\t{question.text}\r\n\t\t\t</button>\r\n\t\t\t{hoverProps.isHovered && \r\n\t\t\t\t<button className=\"button-edit\" title=\"Edit\" onClick={() => edit(groupId, questionId)}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faEdit} color='lightblue' />\r\n\t\t\t\t</button>\r\n\t\t\t}\r\n\t\t\t{hoverProps.isHovered &&\r\n\t\t\t\t<button className=\"button-remove\" title=\"Remove\" onClick={() => remove(groupId, questionId)}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faWindowClose}  color='lightblue' />\r\n\t\t\t\t</button>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default QuestionRow\r\n\r\n","import { IEntity } from \"./types\";\r\nimport { createAction, createActionPayload, ActionsUnion, ActionsWithoutPayload, ActionsWithPayload } from \"./actionsAccepted\";\r\n\r\nexport enum ActionTypes {\r\n\tGET_ALL = 'GET_ALL',\r\n\tSET_LOADING = 'SET_LOADING',\r\n\tADD = 'ADD',\r\n\tGET = 'GET',\r\n\tDISPLAY = 'DISPLAY',\r\n\tCLOSE = 'CLOSE',\r\n\tEDIT = 'EDIT',\r\n\tREMOVE = 'REMOVE',\r\n  \tSTORE = 'STORE',\r\n\tCANCEL = 'CANCEL',\r\n\tGO_TO_PAGE = 'GO_TO_PAGE'\r\n}\r\n\r\n\r\nexport type IEntityActions<T extends IEntity> = {\r\n\r\n\tclose: () => ActionsWithoutPayload<ActionTypes.CLOSE>;\r\n\t \r\n\tcancel: () => ActionsWithoutPayload<ActionTypes.CANCEL>;\r\n\r\n\tsetLoading: (b: boolean) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.SET_LOADING, boolean>;\r\n\r\n\tgetAll: (payload: {entities: T[]; pageSize: number; }) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.GET_ALL, {entities: T[]; pageSize: number; }>;\r\n\r\n\tget: (payload:  { entities: T[]; entityId: number }) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.GET, { entities: T[]; entityId: number }>;\r\n\r\n\tadd: (payload: { entities: T[] }) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.ADD, { entities: T[] }>;\r\n\r\n\tdisplay: (payload: { entities: T[]; entityId: number }) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.DISPLAY, { entities: T[]; entityId: number }>;\r\n\r\n\tedit: (payload: { entities: T[]; entityId: number }) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.EDIT, { entities: T[]; entityId: number }>;\r\n\r\n\tstore: (payload: { saveStorage: (s: string) => void, entity: T }) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.STORE, { saveStorage: (s: string) => void, entity: IEntity }>;\r\n\r\n\tremove: (payload: { saveStorage: (s: string) => void, entityId: number }) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.REMOVE, { saveStorage: (s: string) => void, entityId: number }>;\r\n\t\t\t\t\r\n\tgoToPage: (payload: number) => \r\n\t\t\t\tActionsWithPayload<typeof ActionTypes.GO_TO_PAGE, number>;\r\n };\r\n\r\n\r\n /*\r\n createActionPayload<ActionTypes.GET_ALL, {\r\n\tentities: IEntity[];\r\n\tpageSize: number;\r\n}>(actionType: ActionTypes.GET_ALL): (payload: {\r\n\tentities: IEntity[];\r\n\tpageSize: number;\r\n}) => ActionsWithPayload<ActionTypes.GET_ALL, {\r\n\t...;\r\n}>\r\n*/\r\n\r\nexport const EntityActions: IEntityActions<IEntity> = {\r\n\tclose: createAction<typeof ActionTypes.CLOSE>(ActionTypes.CLOSE),\r\n\tcancel: createAction<typeof ActionTypes.CANCEL>(ActionTypes.CANCEL),\r\n\tsetLoading: createActionPayload<typeof ActionTypes.SET_LOADING, boolean>(ActionTypes.SET_LOADING),\r\n\tgetAll: createActionPayload<typeof ActionTypes.GET_ALL, { entities: IEntity[]; pageSize: number; }>(ActionTypes.GET_ALL),\r\n\tget: createActionPayload<typeof ActionTypes.GET, { entities: IEntity[]; entityId: number }>(ActionTypes.GET),\r\n\tadd: createActionPayload<typeof ActionTypes.ADD, { entities: IEntity[] }>(ActionTypes.ADD),\r\n\tdisplay: createActionPayload<typeof ActionTypes.DISPLAY, { entities: IEntity[]; entityId: number }>(ActionTypes.DISPLAY),\r\n\tedit: createActionPayload<typeof ActionTypes.EDIT, { entities: IEntity[]; entityId: number }>(ActionTypes.EDIT),\r\n\tstore: createActionPayload<typeof ActionTypes.STORE, { saveStorage: (s: string) => void, entity: IEntity }>(ActionTypes.STORE),\r\n\tremove: createActionPayload<typeof ActionTypes.REMOVE, { saveStorage: (s: string) => void, entityId: number }>(ActionTypes.REMOVE),\r\n\tgoToPage: createActionPayload<typeof ActionTypes.GO_TO_PAGE, number>(ActionTypes.GO_TO_PAGE),\r\n };\r\n\r\n export type AcceptedActions = ActionsUnion<typeof EntityActions>;\r\n","import * as React from 'react';\r\n\r\nimport { useHover } from '../../common/useHover'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faWindowClose, faEdit } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { IQuestionGroup } from '../types';\r\n\r\n\r\ninterface IQuestionRowProps {\r\n\tquestionGroup: IQuestionGroup;\r\n\teditGroup: (groupId: number) => void;\r\n\tremoveGroup: (groupId: number) => void;\r\n}\r\n\r\nconst GroupRow: React.FC<IQuestionRowProps> = (props: IQuestionRowProps) => {\r\n\r\n\tconst [hoverRef, hoverProps] = useHover();\r\n\tconst { questionGroup, editGroup, removeGroup } = props;\r\n\r\n   return (\r\n\t\t<div ref={hoverRef} key={questionGroup.groupId} className=\"name\">\r\n\t\t\t{questionGroup.title}\r\n\t\t\t{hoverProps.isHovered &&\r\n\t\t\t\t<button className=\"button-edit\" title=\"Edit Section\" onClick={() => editGroup(questionGroup.groupId)}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faEdit} color='lightblue' />\r\n\t\t\t\t</button>\r\n\t\t\t}\t\t\t\r\n\t\t\t{hoverProps.isHovered && questionGroup.questions.length === 0 &&\r\n\t\t\t\t<button className=\"button-remove\" title=\"Remove Section\" onClick={() => removeGroup(questionGroup.groupId)}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faWindowClose}  color='lightblue' />\r\n\t\t\t\t</button>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default GroupRow\r\n\r\n","import * as React from 'react';\r\nimport { useRef } from 'react'\r\n\r\nimport { IComponentProps } from '../types'\r\n\r\nimport { IQuestion } from '../types';\r\n\r\nimport { AutoSuggest } from '../../components/AutoSuggest';\r\nimport { Form } from './Form'\r\nimport { DisplayForm } from './DisplayForm'\r\nimport QuestionRow from './QuestionRow';\r\nimport GroupRow from './GroupRow';\r\n\r\n\r\nconst QuestionsPage: React.FC<IComponentProps> = (props: IComponentProps) => {\r\n\r\n\tconst { questionGroups, question, questionAnswers, answers, formMode, groupIdEditing, onSelectQuestion, add, edit, remove, cancel, saveForm, canEdit,\r\n\t\t\t\taddGroup, editGroup, removeGroup, storeGroup,\r\n\t\t\t\tremoveQuestionAnswer, assignQuestionAnswer } = props;\r\n\r\n\tconst inputEl = useRef<HTMLInputElement>(null);\r\n\tsetTimeout(() => { \r\n\t\tif (inputEl.current !== null)\t {\r\n\t\t\tinputEl.current!.select();\r\n\t\t\tinputEl.current!.focus()\r\n\t\t}\r\n\t}, 100)\r\n\r\n   return (\r\n      <div className=\"name-container\">\r\n\r\n\t\t\t<div className=\"two-columns\">\r\n\t\t\t\t<div className=\"a\">\r\n\t\t\t\t\t<AutoSuggest questionGroups={questionGroups} onSelectQuestion={onSelectQuestion}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"b\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr />\r\n\r\n\t\t\t<h4 style={{textAlign: 'center'}}>Maintenance (visible only for Admins) </h4>\r\n\t\t\t<div className=\"two-columns\">\r\n\t\t\t\t<div className=\"a\">\r\n\t\t\t\t\t<h3>All Questions by sections</h3>\r\n\t\t\t\t\t{questionGroups && \r\n\t\t\t\t\t\tquestionGroups.map(questionGroup => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={questionGroup.groupId} style={{ paddingBottom: '5px'}}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{groupIdEditing === questionGroup.groupId && \r\n\t\t\t\t\t\t\t\t\t\t\t<input ref={inputEl} name=\"groupTitle\" type=\"text\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={(e) => storeGroup({...questionGroup, title: e.target.value})}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={questionGroup.title}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{groupIdEditing !== questionGroup.groupId && (\r\n\t\t\t\t\t\t\t\t\t\t\t<GroupRow \r\n\t\t\t\t\t\t\t\t\t\t\t\tquestionGroup={questionGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t\teditGroup={editGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t\tremoveGroup={removeGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{questionGroup.questions.map(question => \r\n\t\t\t\t\t\t\t\t\t\t\t<QuestionRow\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={question.questionId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tquestion={question}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSelectQuestion={onSelectQuestion}\r\n\t\t\t\t\t\t\t\t\t\t\t\tedit={edit}\r\n\t\t\t\t\t\t\t\t\t\t\t\tremove={remove}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<div style={{marginLeft: '5%'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"button-add\" title=\"Add a new Question\" onClick={() => add(questionGroup.groupId)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd a new Question\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<div style={{ marginLeft: '1%' }}>\r\n\t\t\t\t\t\t<button className=\"button-add-group\" title=\"Add a new Section\" onClick={() => addGroup()}>\r\n\t\t\t\t\t\t\tAdd a new Section\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"b\">\r\n\t\t\t\t\t{questionGroups && question &&\r\n\t\t\t\t\t\t<div style={{border: '1px solid silver', borderRadius: '5px', padding: '10px'}}>\r\n\t\t\t\t\t\t\t<h4 style={{marginTop: 0}}>Question</h4>\r\n\t\t\t\t\t\t\t{ formMode === 'display' ?\r\n\t\t\t\t\t\t\t\t<DisplayForm\r\n\t\t\t\t\t\t\t\t\tquestion={question}\r\n\t\t\t\t\t\t\t\t\tquestionAnswers={questionAnswers}\r\n\t\t\t\t\t\t\t\t\tanswers={answers}\r\n\t\t\t\t\t\t\t\t\tformMode={formMode}\r\n\t\t\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\t\t\tedit={() => edit(question.groupId, question.questionId)}\r\n\t\t\t\t\t\t\t\t\tremove={() => remove(question.groupId, question.questionId)}\r\n\t\t\t\t\t\t\t\t\tremoveQuestionAnswer={removeQuestionAnswer}\r\n\t\t\t\t\t\t\t\t\tassignQuestionAnswer={assignQuestionAnswer}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Form \r\n\t\t\t\t\t\t\t\t\tquestion={question}\r\n\t\t\t\t\t\t\t\t\tquestionAnswers={questionAnswers}\r\n\t\t\t\t\t\t\t\t\tanswers={answers}\r\n\t\t\t\t\t\t\t\t\tformMode={formMode}\r\n\t\t\t\t\t\t\t\t\tcancel={cancel}\r\n\t\t\t\t\t\t\t\t\tsaveForm={(question: IQuestion) => saveForm(question, formMode)}\r\n\t\t\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\t\t\tremoveQuestionAnswer={removeQuestionAnswer}\r\n\t\t\t\t\t\t\t\t\tassignQuestionAnswer={assignQuestionAnswer}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n      </div>\r\n   );\r\n  }\r\n\r\nexport default QuestionsPage\r\n\r\n","import * as React from 'react';\r\n\r\nimport { IQuestion, IComponentProps } from '../types';\r\n\r\n\r\nimport { AutoSuggest } from '../../components/AutoSuggest';\r\nimport { Form } from './Form'\r\n\r\n\r\nconst PromoterPage: React.FC<IComponentProps> = (props: IComponentProps) => {\r\n\t const { questionGroups, question, questionAnswers, answers, formMode, onSelectQuestion, cancel, saveForm, canEdit,\r\n\t\tremoveQuestionAnswer, assignQuestionAnswer } = props;\r\n\t \r\n    return (\r\n      <div className=\"name-container\">\r\n\r\n\t\t\t<div className=\"two-columns\">\r\n\t\t\t\t<div className=\"a\">\r\n\t\t\t\t\t<AutoSuggest questionGroups={questionGroups} onSelectQuestion={onSelectQuestion}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"b\">\r\n\t\t\t\t\t{questionGroups && question &&\r\n\t\t\t\t\t\t<div style={{border: '1px solid silver', borderRadius: '5px', padding: '10px'}}>\r\n\t\t\t\t\t\t\t<h4 style={{marginTop: 0}}>Question</h4>\r\n\t\t\t\t\t\t\t<Form \r\n\t\t\t\t\t\t\t\tquestion={question}\r\n\t\t\t\t\t\t\t\tquestionAnswers={questionAnswers}\r\n\t\t\t\t\t\t\t\tanswers={answers}\r\n\t\t\t\t\t\t\t\tformMode={formMode}\r\n\t\t\t\t\t\t\t\tcancel={cancel}\r\n\t\t\t\t\t\t\t\tsaveForm={(question: IQuestion) => saveForm(question, formMode)}\r\n\t\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\t\tremoveQuestionAnswer={removeQuestionAnswer}\r\n\t\t\t\t\t\t\t\tassignQuestionAnswer={assignQuestionAnswer}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default PromoterPage\r\n\r\n","// import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { IAppState } from '../../store/Store';\r\nimport { IQuestion, IQuestionGroup } from '../types'\r\nimport { IAnswer } from '../../Answers/types'\r\n\r\nimport { Dispatch } from 'redux';  // ActionCreatorsMapObject, \r\n\r\nimport { QuestionActions,  \r\n\tgetQuestion, \r\n\taddQuestion, \r\n\teditQuestion,\r\n\tremoveQuestion,\r\n\tstoreQuestion,\r\n\tcancelQuestion,\r\n\taddGroup,\r\n\teditGroup,\r\n\tremoveGroup,\r\n\tstoreGroup,\r\n\tremoveQuestionAnswer,\r\n\tassignQuestionAnswer\r\n} from '../actions'\r\n\r\nimport QuestionsPage from '../components/QuestionsPage'\r\nimport PromoterPage from '../components/PromoterPage'\r\n\r\n\r\nconst joinAnswers = (question: IQuestion | undefined, answers: IAnswer[]) : IAnswer[]=> {\r\n\tif (question === undefined || question.answers.length === 0 || answers === undefined)\r\n\t\treturn [];\r\n\tconst answerIds = question.answers; \r\n\treturn answers.filter(answer => answerIds.includes(answer.answerId));\r\n}\r\n\r\ninterface IProps {\r\n\tcanEdit: boolean\r\n}\r\n\r\n// Grab the questions from the store and make them available on props\r\nconst mapStateToProps = (store: IAppState, ownProps: IProps ) => {\r\n\treturn {\r\n\t\tquestionGroups: store.questionState.questionGroups,\r\n\t\tquestion: store.questionState.question!,\r\n\t\tquestionAnswers: joinAnswers(store.questionState.question, store.answerState.answers),\r\n\t\tanswers: store.answerState.answers,\r\n\t\tformMode: store.questionState.formMode,\r\n\t\tgroupIdEditing: store.questionState.groupIdEditing,\r\n\t\tcanEdit: ownProps.canEdit,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<QuestionActions>) => {\r\n\treturn {\r\n\t\tonSelectQuestion: (questionId: number) => dispatch<any>(getQuestion(questionId)),\r\n\t\tadd: (questionGroupId: number) => dispatch<any>(addQuestion(questionGroupId)),\r\n\t\tedit: (questionGroupId: number, questionId: number) => dispatch<any>(editQuestion(questionGroupId, questionId)),\r\n\t\tremove: (questionGroupId: number, questionId: number) => dispatch<any>(removeQuestion(questionGroupId, questionId)),\r\n\t\tsaveForm: (question: IQuestion, formMode: string) => dispatch<any>(storeQuestion(question, formMode)),\r\n\t\tcancel: () => dispatch<any>(cancelQuestion()),\r\n\r\n\t\t// groups\r\n\t\taddGroup: () => dispatch<any>(addGroup()),\r\n\t\teditGroup: (groupId: number) =>  dispatch<any>(editGroup(groupId)),\r\n\t\tremoveGroup: (groupId: number) => dispatch<any>(removeGroup(groupId)),\r\n\t\tstoreGroup: (group: IQuestionGroup) => dispatch<any>(storeGroup(group)),\r\n\r\n\t\t// question answers\r\n\t\tremoveQuestionAnswer: (groupId: number, questionId: number, answerId: number) => \r\n\t\t\tdispatch<any>(removeQuestionAnswer(groupId, questionId, answerId)),\r\n\r\n\t\tassignQuestionAnswer: (groupId: number, questionId: number, answerId: number) => \r\n\t\t\tdispatch<any>(assignQuestionAnswer(groupId, questionId, answerId))\r\n\t}\r\n}\r\n\r\nexport default {\r\n\tquestions: connect(mapStateToProps, mapDispatchToProps)(QuestionsPage),\r\n\tpromoter: connect(mapStateToProps, mapDispatchToProps)(PromoterPage)\r\n};","import * as React from 'react';\n\nimport containers from '../Questions/containers/Pages'\n\n// type TParams = { id: string };\n\n// function Product({ match }: RouteComponentProps<TParams>) {\n//   return <h2>This is a page for product with ID: {match.params.id} </h2>;\n// }\n\nconst App: React.SFC<{}> = () => {\n  return (\n    <>\n      <h2 style={{textAlign: 'center'}}>Questions &amp; Answers</h2>\n      <containers.promoter canEdit={false} />\n    </>\n  );\n};\n\nexport default App;","const palx = require('palx');\r\nexport const BASE_COLOR = '#666ee8';\r\nexport const COLORS = palx(BASE_COLOR);","import React from 'react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup'\r\nimport { IAnswer } from '../types';\r\nimport { COLORS } from '../../formik/theme';\r\n\r\n\r\ninterface IProps {\r\n\tanswer: IAnswer;\r\n\tformMode: string;\r\n\toptions?: string[],\r\n\tcancel: () => void;\r\n\tsaveForm: (answer: IAnswer, formMode: string) => void;\r\n }\r\n\r\nconst Form: React.FC<IProps> = (props: IProps) => {\r\n  const formik = useFormik({\r\n\tenableReinitialize: true,\r\n   initialValues: {\r\n\t\tfromMode: props.formMode,\r\n      answerId: props.answer.answerId,\r\n\t\ttext: props.answer.text,\r\n\t\toptions: props.answer.options\r\n   },\r\n   validationSchema: Yup.object({\r\n      text: Yup.string()\r\n        .max(150, 'Must be 150 characters or less')\r\n        .required('Required'),\r\n   }),\r\n   onSubmit: (values) => {\r\n\t\t// alert(JSON.stringify(values, null, 2));\r\n\t\tprops.saveForm(values, props.formMode)\r\n   },\r\n  });\r\n\r\n  return (\r\n    <form onSubmit={formik.handleSubmit}>\r\n\t\t { props.formMode !== 'add' && \r\n\t\t <>\r\n\t\t\t<label htmlFor=\"answerId\"></label>\r\n\t\t\t<input\r\n\t\t\tid=\"answerId\"\r\n\t\t\tname=\"answerId\"\r\n\t\t\ttype=\"text\"\r\n\t\t\tonChange={formik.handleChange}\r\n\t\t\tonBlur={formik.handleBlur}\r\n\t\t\tvalue={formik.values.answerId}\r\n\t\t\tdisabled\r\n\t\t\tstyle={{width: '50px'}}\r\n\t\t\t/>\r\n\t\t\t{formik.touched.answerId && formik.errors.answerId ? (\r\n\t\t\t<div>{formik.errors.answerId}</div>\r\n\t\t\t) : null}\r\n\t\t\t</>\r\n\t\t}\r\n\r\n      <label htmlFor=\"text\"></label>\r\n      <input\r\n        id=\"text\"\r\n        name=\"text\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.text}\r\n      />\r\n      {formik.touched.text && formik.errors.text ? (\r\n        <div>{formik.errors.text}</div>\r\n      ) : null}\r\n\t\t\r\n\t\t{/* \r\n      <label htmlFor=\"answers\">Answers</label>\r\n      <input\r\n        id=\"answers\"\r\n        name=\"answers\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.answers}\r\n      />\r\n      {formik.touched.answers && formik.errors.answers ? (\r\n        <div>{formik.errors.answers}</div>\r\n      ) : null}\r\n\r\n      <label htmlFor=\"email\">Email Address</label>\r\n      <input\r\n        id=\"email\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.email}\r\n      />\r\n      {formik.touched.email && formik.errors.email ? (\r\n        <div>{formik.errors.email}</div>\r\n      ) : null} */}\r\n\r\n\t\t<button onClick={() => props.cancel()}>Cancel</button>\r\n      <button type=\"submit\">Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst color = 'blue';\r\n\r\nexport const AnswerForm: React.FC<IProps> = (props: IProps) => {\r\n\treturn (\r\n\t\t<div style={{ height: '100%' }} className=\"formik-example formik-example--blue\">\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\theight: '100%',\r\n\t\t\tbackground: COLORS[color][5],\r\n\t\t\tpadding: '4rem 2rem',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tborderRadius: '4px',\r\n\t\t\t\tboxShadow: '0 8px 16px rgba(0,0,0,.2)',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tmaxWidth: 400,\r\n\t\t\t\tmargin: '0 auto',\r\n\t\t\t\tpadding: '2rem',\r\n\t\t\t}}\r\n\t\t\t>\r\n\t\t\t<div className=\"formik-example formik-example--blue\">\r\n\t\t\t\t<Form {...props} />\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t</div>\t\r\n\t)\r\n}","import * as React from 'react';\r\nimport { useParams } from 'react-router-dom' // useRouteMatch\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faWindowClose, faEdit } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { IAnswer } from '../types';\r\nimport { AnswerForm } from './Form'\r\n\r\ninterface IProps {\r\n\tanswers: IAnswer[],\r\n\tanswer: IAnswer,\r\n\tusedAnswers: number[],\r\n\r\n\tformMode: string,\r\n\tadd: () => void;\r\n\tedit: (answerId: number) => void;\r\n\tremove: (answerId: number) => void;\r\n\tcancel: () => void;\r\n\tsaveForm: (answer: IAnswer, formMode: string) => void;\r\n}\r\n\r\nconst Answers: React.FC<IProps> = (props: IProps) => {\r\n\tlet { slug } = useParams();\r\n\tslug = ''\r\n\tconst { answers, answer, formMode, add, edit, remove, cancel, saveForm } = props;\r\n\treturn (\r\n\t\t<div className=\"name-container\">\r\n\t\t\t{slug}\r\n\t\t\t{ answers.length === 0 && \r\n\t\t\t\t<div>\r\n\t\t\t\t\tNo answers at all\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{ answers.length > 0 && \r\n\r\n\t\t\t<div className=\"two-columns\">\r\n\t\t\t\t<div className=\"a\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Id</th>\r\n\t\t\t\t\t\t\t\t<th>Answer</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{ answers.map(answer => \r\n\t\t\t\t\t\t\t\t<tr key={answer.answerId} >\r\n\t\t\t\t\t\t\t\t\t<td className=\"name\">\r\n\t\t\t\t\t\t\t\t\t\t{answer.answerId}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"name\">\r\n\t\t\t\t\t\t\t\t\t\t{answer.text}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"button-edit\"\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Add a new Answer\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => edit(answer.answerId)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faEdit} color='lightblue' />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={props.usedAnswers.includes(answer.answerId)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"button-remove\"\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Remove Answer\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(answer.answerId)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faWindowClose}  color='lightblue' />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t<button onClick={() => add()}>Add new</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"b\">\r\n\t\t\t\t\t{formMode === 'add' &&\r\n\t\t\t\t\t\t<div style={{border: '1px solid silver', borderRadius: '5px', padding: '10px'}}>\r\n\t\t\t\t\t\t\t<h4 style={{marginTop: 0}}>New Answer</h4>\r\n\t\t\t\t\t\t\t<AnswerForm answer={answer} formMode={formMode} cancel={cancel} saveForm={(answer: IAnswer) => saveForm(answer, formMode)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{formMode === 'edit' &&\r\n\t\t\t\t\t\t<div style={{border: '1px solid silver', borderRadius: '5px', padding: '10px'}}>\r\n\t\t\t\t\t\t\t<h4 style={{marginTop: 0}}>Edit Answer</h4>\r\n\t\t\t\t\t\t\t<AnswerForm answer={answer} formMode={formMode} cancel={cancel} saveForm={(answer: IAnswer) => saveForm(answer, formMode)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t}\r\n\r\n\t\t</div>\r\n\t);\r\n  }\r\n\r\nexport default Answers\r\n\r\n","// import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\n\r\nimport { IAppState } from '../../store/Store';\r\n\r\nimport { AnswerActions,  addAnswer, editAnswer, removeAnswer, storeAnswer, cancelAnswer } from '../actions' // , IAddAnswer\r\n\r\nimport { IAnswer } from '../types'\r\n\r\nimport Answers from '../components/List'\r\nimport { IQuestionGroup } from '../../Questions/types';\r\n\r\nconst getUsedAnswers = (questionGroups: IQuestionGroup[]) : number[]=> {\r\n\tlet answerIds: number[] = [];\r\n\tfor (let group of questionGroups)\r\n\t\tfor (let question of group.questions)\r\n\t\t\tanswerIds = answerIds.concat(question.answers)\r\n\treturn answerIds;\r\n}\r\n\r\nconst mapStateToProps = (store: IAppState) => {\r\n  return {\r\n\tanswers: store.answerState.answers,\r\n\tanswer: store.answerState.answer!,\r\n\tformMode: store.answerState.formMode,\r\n\tusedAnswers: getUsedAnswers(store.questionState.questionGroups)\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<AnswerActions>) => {\r\n\treturn {\r\n\t\t//setFormMode: (formMode: string) => dispatch<any>(setFormMode(formMode)),\r\n\t\tadd: () => dispatch<any>(addAnswer()),\r\n\t\tedit: (answerId: number) => dispatch<any>(editAnswer(answerId)),\r\n\t\tremove: (answerId: number) => dispatch<any>(removeAnswer(answerId)),\r\n\t\tsaveForm: (answer: IAnswer, formMode: string) => dispatch<any>(storeAnswer(answer, formMode)),\r\n\t\tcancel: () => dispatch<any>(cancelAnswer()),\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Answers);","/**\n * Create an action that has a strongly typed string literal name with a strongly typed payload\n */\nexport function createActionPayload<TypeAction, TypePayload>(\n  actionType: TypeAction\n): (payload: TypePayload) => ActionsWithPayload<TypeAction, TypePayload> {\n  return (p: TypePayload): ActionsWithPayload<TypeAction, TypePayload> => {\n    return {\n      payload: p,\n      type: actionType\n    };\n  };\n}\n\n/**\n * Create an action with no payload\n */\nexport function createAction<TypeAction>(\n  actionType: TypeAction\n): () => ActionsWithoutPayload<TypeAction> {\n  return (): ActionsWithoutPayload<TypeAction> => {\n    return {\n      type: actionType\n    };\n  };\n}\n/**\n * Create an action with a payload\n */\nexport interface ActionsWithPayload<TypeAction, TypePayload> {\n  type: TypeAction;\n  payload: TypePayload;\n}\n\n/**\n * Create an action that does not have a payload\n */\nexport interface ActionsWithoutPayload<TypeAction> {\n  type: TypeAction;\n}\n\n/**\n * A very general type that means to be \"an object with a many field created with createActionPayload and createAction\n */\nexport interface ActionCreatorsMapObject {\n  [key: string]: (\n    ...args: any[]\n  ) => ActionsWithPayload<any, any> | ActionsWithoutPayload<any>;\n}\n\n/**\n * Use this Type to merge several action object that has field created with createActionPayload or createAction\n * E.g. type ReducerWithActionFromTwoObjects = ActionsUnion<typeof ActionsObject1 & typeof ActionsObject2>;\n */\nexport type ActionsUnion<A extends ActionCreatorsMapObject> = ReturnType<\n  A[keyof A]\n>;\n","\r\nimport React, { createContext, useContext, useReducer, Dispatch } from 'react';\r\nimport { IStudentState } from './types';\r\nimport { entityReducer } from '../Generics/entityReducer';\r\nimport { IStudent } from './types';\r\nimport { AcceptedActions } from '../Generics/actions';\r\n\r\n\r\nexport const initialStudent: IStudent = { \r\n\tentityId: 0, \r\n\tname: '',\r\n\turl: '',\r\n\tcode: '',\r\n\temail: '',\r\n\tavatar: 'https://img.pokemondb.net/artwork/diglett.jpg',\r\n\ttypes: []\r\n};\r\n\r\n\r\nconst initialState: IStudentState = { \r\n\tentities: [],\r\n\tloading: false,\r\n\tformMode: 'display',\r\n\tcanEdit: true,\r\n\tpageCount: 0,\r\n\tcurrentPage: 0,\r\n\tsomething: [1, 2, 3]\r\n};\r\n\r\nexport interface IStudentContext {\r\n\tstate: IStudentState;\r\n\tdispatch: Dispatch<AcceptedActions>;\r\n}\r\n\r\nlet StudentContext: React.Context<IStudentContext>;\r\n\r\ninterface IProps {\r\n\tchildren: React.ReactNode\r\n}\r\n\r\nexport const StudentProvider: React.FC<IProps> = ({ children }) => {\r\n\tconst [state, dispatch] = useReducer(entityReducer<IStudentState, IStudent>(initialStudent), initialState)\r\n\r\n\tif (StudentContext === undefined)\r\n  \t\tStudentContext = createContext<IStudentContext>({ state, dispatch })\r\n\r\n  \treturn (\r\n   \t<StudentContext.Provider value={{ state, dispatch }}>\r\n   \t\t{children}\r\n   \t</StudentContext.Provider>\r\n  \t)\r\n}\r\n\r\nexport const useStudent = () => useContext(StudentContext);","\r\nimport { IEntityState, IEntity } from './types';\r\nimport { ActionTypes, AcceptedActions } from './actions';\r\n\r\nexport const entityReducer: <\r\n\tTS extends IEntityState<IEntity>,\r\n\tT extends IEntity\r\n>(initialEntity: T) => React.Reducer<TS, AcceptedActions> = (initialEntity) => {\r\n\treturn (state, action) =>  {\r\n\t\tswitch(action.type) {\r\n\r\n\t\t\tcase ActionTypes.GET_ALL: {\r\n\t\t\t\tconst { entities, pageSize } = action.payload;\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tentities: entities,\r\n\t\t\t\t\tpageCount: Math.ceil(entities.length / pageSize)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcase ActionTypes.SET_LOADING:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloading: action.payload\r\n\t\t\t\t}\r\n\t\r\n\t\t\tcase ActionTypes.GET: {\r\n\t\t\t\tconst { entities, entityId } = action.payload;\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tentity: entities.find(e => e.entityId === entityId)!\r\n\t\t\t\t};\r\n\t\t\t}    \r\n\r\n\t\t\tcase ActionTypes.ADD: {\r\n\t\t\t\tconst { entities } = action.payload\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'add',\r\n\t\t\t\t\tentity: { \r\n\t\t\t\t\t\t...initialEntity, \r\n\t\t\t\t\t\tentityId: entities.length === 0 ? 1 : Math.max(...entities.map(e => e.entityId)) + 1\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}    \t\r\n\t\r\n\t\t\tcase ActionTypes.DISPLAY: {\r\n\t\t\t\tconst { entities, entityId } = action.payload\r\n\t\t\t\tconst entity = entities.find(e => e.entityId === entityId)!\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'display',\r\n\t\t\t\t\tentity: { ...entity },\t\t\t\r\n\t\t\t\t\t// entity: { ...state.entity, ...{entity } }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tcase ActionTypes.EDIT: {\r\n\t\t\t\tconst { entities, entityId } = action.payload\r\n\t\t\t\tconst entity = entities.find(e => e.entityId === entityId)!\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'edit',\r\n\t\t\t\t\tentity: { ...entity }\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcase ActionTypes.CLOSE: \r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'none',\r\n\t\t\t\t\tentity: undefined\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\tcase ActionTypes.REMOVE: {\r\n\t\t\t\tconst { saveStorage, entityId } = action.payload\r\n\t\t\t\tsaveStorage(JSON.stringify(state.entities.filter(e => e.entityId !== entityId)))\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'display',\r\n\t\t\t\t\tentity: undefined,\r\n\t\t\t\t\tentities: state.entities.filter(e => e.entityId !== entityId)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcase ActionTypes.STORE: {\r\n\t\t\t\tconst { saveStorage, entity } = action.payload\r\n\t\t\t\tlet entities: IEntity[] = [];\r\n\t\t\t\tif (state.formMode === 'add') {\r\n\t\t\t\t\tentities = [...state.entities, { ...entity }]\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tentities = state.entities.map(a => a.entityId === entity.entityId ? { ...entity } : a)\r\n\t\t\t\t}\r\n\t\t\t\tsaveStorage(JSON.stringify(entities))\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'edit',\r\n\t\t\t\t\tentity: { ...entity },\r\n\t\t\t\t\tentities: entities\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\r\n\t\t\tcase ActionTypes.CANCEL: {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tformMode: 'display',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tcase ActionTypes.GO_TO_PAGE: {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentPage: action.payload\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tdefault:\r\n\t\t\t\t// throw new Error(`Unhandled action type: ${action!.type}`);\r\n\t\t\t\t// when combine reducers \r\n\t\t\t\treturn state\r\n\t\t}\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faWindowClose, faEdit } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { useHover } from \"../Common/useHover\";\r\nimport { IEntity } from \"./types\";\r\n\r\ninterface IRowProps<T> {\r\n\tentity: T,\r\n\trenderColumns: (item: T) => JSX.Element[],\r\n\tdisplay: (entityId: number) => void,\r\n\tedit: (entityId: number) => void,\r\n\tremove: (entityId: number) => void,\r\n}\r\n\r\nexport const EntityRow: <T extends IEntity> \r\n\t\t\t\t\t(props: IRowProps<T>) => React.ReactElement<IRowProps<T>> = (props) => {\r\n\tconst { entity, renderColumns, display, edit, remove } = props;\r\n\tconst { entityId, name } = entity; // , url \r\n\tconst [hoverRef, hoverProps] = useHover();\r\n\r\n\treturn (\r\n\t\t<ul className=\"entity-columns\" ref={hoverRef}>\r\n\t\t\t{/* <li>{entityId}</li> */}\r\n\t\t\t<li key={entityId}>\r\n\t\t\t\t<a href=\"#/\" onClick={(e) => { e.preventDefault(); display(entityId)  }}>  {/* dispatch(EntityActions.display(entityId)) */}\r\n\t\t\t\t\t{name}\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\r\n\t\t\t{ renderColumns(entity) }\r\n\r\n\t\t\t<li key=\"buttons\">\r\n\t\t\t{hoverProps.isHovered &&\r\n\t\t\t\t<button className=\"button-edit\" title=\"Edit\" onClick={() => edit(entityId)}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faEdit} color='lightblue' />\r\n\t\t\t\t</button>\r\n\t\t\t}\r\n\t\t\t{hoverProps.isHovered &&\r\n\t\t\t\t<button className=\"button-remove\" title=\"Remove\" onClick={() => { remove(entityId) }}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faWindowClose}  color='lightblue' />\r\n\t\t\t\t</button>\r\n\t\t\t}\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t)\r\n};\r\n","import { IGrade } from \"./types\";\r\nimport { EntityActions, IEntityActions } from \"../Generics/actions\";\r\nimport { IEntity } from \"../Generics/types\";\r\nimport { ActionsUnion } from \"../Generics/actionsAccepted\";\r\n\r\nexport enum StudentActionTypes {\r\n\tSTUDENT_ADD_GRADE = 'STUDENT_ADD_GRADE',\r\n\tSTUDENT_REMOVE_GRADE = 'STUDENT_REMOVE_GRADE'\r\n}\r\n\r\n\r\n\r\nexport interface IAddGrade {\r\n\ttype: StudentActionTypes.STUDENT_ADD_GRADE;\r\n\tgrade: IGrade\r\n}\r\n\r\nexport interface IRemoveGrade {\r\n\ttype: StudentActionTypes.STUDENT_REMOVE_GRADE;\r\n\tgrade: IGrade\r\n}\r\n\r\n// export type ActionsExtended = Actions | IAddGrade | IRemoveGrade\r\n\r\nexport type IStudentActions = IEntityActions<IEntity> & {\r\n \taddGrade: (grade: IGrade) => IAddGrade,\r\n \tremoveGrade: (grade: IGrade) => IRemoveGrade,\r\n}\r\n\r\n\r\n\r\nexport const StudentActions: IStudentActions = {\r\n\t...EntityActions,\r\n\taddGrade: (grade: IGrade) : IAddGrade => { \r\n\t\t\treturn { \r\n\t\t\t\ttype: StudentActionTypes.STUDENT_ADD_GRADE,\r\n\t\t\t\tgrade\r\n\t\t\t}\r\n\t},\r\n\tremoveGrade: (grade: IGrade) : IRemoveGrade => { \r\n\t\treturn { \r\n\t\t\ttype: StudentActionTypes.STUDENT_REMOVE_GRADE,\r\n\t\t\tgrade\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport type StudentAcceptedActions = ActionsUnion<typeof StudentActions>;\r\n\r\n\r\n","import { useRef, useState, useEffect } from 'react';\r\n\r\ninterface IHoverProps {\r\n\tisHovered: boolean;\r\n}\r\n\r\n// Hook\r\nexport function useHover() : [React.RefObject<HTMLUListElement>, IHoverProps] {\r\n\tconst [hoverProps, setValue] = useState({ isHovered: false });\r\n \r\n\tconst divRef = useRef<HTMLUListElement>(null);\r\n \r\n\tconst handleMouseOver = () => setValue({ isHovered: true });\r\n\tconst handleMouseOut = () => setValue({ isHovered: false });\r\n \r\n\tuseEffect(\r\n\t  () => {\r\n\t\t const node = divRef.current;\r\n\t\t if (node) {\r\n\t\t\tnode.addEventListener('mouseenter', () => handleMouseOver());\r\n\t\t\tnode.addEventListener('mouseleave', () => handleMouseOut());\r\n \r\n\t\t\treturn () => {\r\n\t\t\t\tnode.removeEventListener('mouseenter', () => handleMouseOver());\r\n\t\t\t\tnode.removeEventListener('mouseleave', () => handleMouseOut());\r\n\t\t\t};\r\n\t\t }\r\n\t  }, [divRef.current] // Recall only if ref changes\r\n\t);\r\n \r\n\treturn [divRef, hoverProps];\r\n}\r\n\r\n","import React from \"react\";\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nimport { EntityActions, AcceptedActions } from \"./actions\";\r\nimport { EntityRow } from \"./EntityRow\";\r\nimport { IEntity } from \"./types\";\r\n\r\n\r\ninterface IProps<T extends IEntity> {\r\n\tentities: T[],\r\n\tdispatch: React.Dispatch<AcceptedActions>,\r\n\trenderColumns: (item: T) => JSX.Element[],\r\n\tsaveStorage: (s: string) => void,\r\n\tcurrentPage: number,\r\n\tpageCount: number,\r\n\tpageRangeDisplayed: number;\r\n\tmarginPagesDisplayed: number;\r\n}\r\n\r\nexport const EntityList: <T extends IEntity>\r\n\t\t\t\t\t(props: IProps<T>) => React.ReactElement<IProps<T>> = (props) => {\r\n\tconst { \r\n\t\tentities, dispatch, renderColumns, saveStorage,\r\n\t\tpageCount, pageRangeDisplayed, marginPagesDisplayed, \r\n\t} = props;\r\n\t\r\n\tconst display = (entityId: number) => dispatch(EntityActions.display({entities, entityId}));\r\n\tconst edit = (entityId: number) => dispatch(EntityActions.edit({entities, entityId}));\r\n\tconst remove = (entityId: number) => dispatch(EntityActions.remove({saveStorage, entityId}));\r\n\r\n\treturn (\r\n   \t<div style={{border: '1px solid lightblue'}} id=\"react-paginate\">\r\n\t\t\t<ul className=\"entity-list\">\r\n\t\t\t\t{entities.map(entity => (\r\n\t\t\t\t\t<li key={entity.entityId}>\r\n\t\t\t\t\t\t<EntityRow\r\n\t\t\t\t\t\t\tentity={entity}\r\n\t\t\t\t\t\t\trenderColumns={renderColumns}\r\n\t\t\t\t\t\t\tdisplay={display}\r\n\t\t\t\t\t\t\tedit={edit}\r\n\t\t\t\t\t\t\tremove={remove}\r\n\t\t\t\t\t\t/>\t\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\t\t\r\n\t\t\t<ReactPaginate\r\n\t\t\t\tpreviousLabel={\" Previous\"}\r\n\t\t\t\tnextLabel={\"Next \"}\r\n\t\t\t\tbreakLabel={<span className=\"gap\">...</span>}\r\n\t\t\t\tpageCount={pageCount}\r\n\t\t\t\tonPageChange={(selectedItem: { selected: number }) => dispatch(EntityActions.goToPage(selectedItem.selected))}\r\n\t\t\t\t// forcePage={currentPage}\r\n\t\t\t\tcontainerClassName={\"pagination\"}\r\n\t\t\t\tpreviousLinkClassName={\"previous_page\"}\r\n\t\t\t\tnextLinkClassName={\"next_page\"}\r\n\t\t\t\tdisabledClassName={\"disabled\"}\r\n\t\t\t\tactiveClassName={\"active\"}\r\n\t\t\t\tpageRangeDisplayed={pageRangeDisplayed}\r\n\t\t\t\tmarginPagesDisplayed={marginPagesDisplayed}\r\n\t\t\t/>\r\n\t\t\t<button onClick={() => dispatch(EntityActions.add({ entities: entities }))}>Add new</button>\t\t\t\r\n\t\t</div>\r\n  )\r\n}","import React from 'react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup'\r\nimport { IStudent } from '../types';\r\n\r\ninterface IFormProps {\r\n\tentity: IStudent;\r\n\tformMode: string;\r\n\tcanEdit: boolean;\r\n\tcancel: () => void;\r\n\tsaveForm: (student: IStudent) => void;\r\n\tedit: () => void;\r\n\tremove: () => void;\t\r\n }\r\n\r\nexport const MyForm: React.FC<IFormProps> = (props: IFormProps) => {\r\n  const formik = useFormik({\r\n\tenableReinitialize: true,\r\n   initialValues: {\r\n\t\tfromMode: props.formMode,\r\n\t\tcanEdit: props.canEdit,\r\n      entityId: props.entity.entityId,\r\n\t\turl: props.entity.url,\r\n\t\tcode: props.entity.code,\r\n\t\tavatar: props.entity.avatar,\r\n\t\tname: props.entity.name,\r\n\t\temail: props.entity.email,\r\n\t\ttypes: props.entity.types,\r\n   },\r\n   validationSchema: Yup.object({\r\n      code: Yup.string()\r\n        .max(150, 'Must be 150 characters or less')\r\n        .required('Required'),\r\n   }),\r\n   onSubmit: (values) => {\r\n\t\t// values.name = values.firstName.trim() + ' ' + values.lastName.trim()\r\n\t\t// alert(JSON.stringify(values, null, 2));\r\n\t\tprops.saveForm(values)\r\n   },\r\n  });\r\n\r\n  return (\r\n    <form onSubmit={formik.handleSubmit}>\r\n\t\t { props.formMode !== 'add' && \r\n\t\t <>\r\n\t\t\t<label htmlFor=\"entityId\">Student id</label>\r\n\t\t\t<input\r\n\t\t\tid=\"entityId\"\r\n\t\t\tname=\"entityId\"\r\n\t\t\ttype=\"text\"\r\n\t\t\tonChange={formik.handleChange}\r\n\t\t\tonBlur={formik.handleBlur}\r\n\t\t\tvalue={formik.values.entityId}\r\n\t\t\tdisabled\r\n\t\t\tstyle={{width: '50px'}}\r\n\t\t\t/>\r\n\t\t\t{formik.touched.entityId && formik.errors.entityId ? (\r\n\t\t\t<div>{formik.errors.entityId}</div>\r\n\t\t\t) : null}\r\n\t\t\t</>\r\n\t\t}\r\n\r\n\t\t<label htmlFor=\"name\">Name</label>\r\n      <input\r\n        id=\"name\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.name}\r\n\t\t  disabled = {props.formMode === 'display'}\r\n      />\r\n      {formik.touched.name && formik.errors.name ? (\r\n        <div>{formik.errors.name}</div>\r\n      ) : null}\r\n\r\n      <label htmlFor=\"code\">Code</label>\r\n      <input\r\n        id=\"code\"\r\n        name=\"code\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.code}\r\n\t\t  disabled = {props.formMode === 'display'}\r\n      />\r\n      {formik.touched.code && formik.errors.code ? (\r\n        <div>{formik.errors.code}</div>\r\n      ) : null}\r\n\r\n\t\t<label htmlFor=\"lastName\">Avatar</label>\r\n      <input\r\n        id=\"avtar\"\r\n        name=\"avtar\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.avatar}\r\n\t\t  disabled = {props.formMode === 'display'}\r\n      />\r\n      {formik.touched.avatar && formik.errors.avatar ? (\r\n        <div>{formik.errors.avatar}</div>\r\n      ) : null}\t\t\r\n\r\n\t\t<label htmlFor=\"email\">Email</label>\r\n      <input\r\n        id=\"email\"\r\n        name=\"email\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.email}\r\n\t\t  disabled = {props.formMode === 'display'}\r\n      />\r\n      {formik.touched.email && formik.errors.email ? (\r\n        <div>{formik.errors.email}</div>\r\n      ) : null}\t\t\r\n\r\n\r\n\t\t{ props.formMode !== 'display' &&\r\n\t\t\t<>\r\n\t\t\t<button onClick={() => props.cancel()}>Cancel</button>\r\n      \t<button type=\"submit\">Save</button>\r\n\t\t\t</>\r\n\t\t}\r\n\r\n\t\t{ props.canEdit && props.formMode === 'display' &&\r\n\t\t\t<>\r\n\t\t\t<button onClick={() => props.edit()}>Edit</button>\r\n\t\t\t<button onClick={() => props.remove()}>Remove</button>\r\n\t\t\t</>\r\n\t\t}\t\t\t\t\r\n\r\n    </form>\r\n  );\r\n};\r\n\r\n","import React from 'react';\r\nimport { useStudent } from '../useStudent';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { faWindowClose } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { EntityActions} from '../../Generics/actions'\r\nimport { MyForm } from './MyForm';\r\n\r\ninterface IProps {\r\n\tsaveStorage: (s: string) => void,\r\n}\r\n\r\nexport const StudentForm: React.FC<IProps> = (props: IProps) => {\r\n\tconst { state, dispatch } = useStudent();\r\n\tconst { entities, entity, formMode, canEdit } = state;\r\n\r\n\tconst { saveStorage } = props;\r\n\r\n\tlet title: string = ''\r\n\tswitch (state.formMode) {\r\n\t\tcase 'display':\r\n\t\t\ttitle = 'Student';\r\n\t\t\tbreak;\r\n\t\tcase 'edit':\r\n\t\t\ttitle = 'Edit Student';\r\n\t\t\tbreak;\r\n\t\tcase 'add':\r\n\t\t\ttitle = 'New Student';\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"formik-example formik-example--blue\" style={{border: '1px solid navy'}}>\r\n\t\t{ entity && \r\n\t\t\t<div style={{border: '1px solid silver', borderRadius: '5px', padding: '10px'}}>\r\n\t\t\t\t<h4 style={{marginTop: 0}}>{title}</h4>\r\n\t\t\t\t<button \r\n\t\t\t\t\tstyle={{float:'right'}}\r\n\t\t\t\t\tclassName=\"button-remove\"\r\n\t\t\t\t\ttitle=\"Close\"\r\n\t\t\t\t\tonClick={() => { dispatch(EntityActions.close())}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faWindowClose} size=\"2x\" color='lightblue' />\r\n\t\t\t\t</button>\t\t\t\t\r\n\t\t\t\t<MyForm {...props}\r\n\t\t\t\t\tentity={entity!} \r\n\t\t\t\t\tformMode={formMode}\r\n\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\tcancel = {() => dispatch(EntityActions.cancel())}\r\n\t\t\t\t\tsaveForm = { (student) => dispatch(EntityActions.store({ saveStorage, entity: student }))}\r\n\t\t\t\t\tedit = {() => dispatch(EntityActions.edit({entities, entityId: entity!.entityId}))}\r\n\t\t\t\t\tremove = {() => dispatch(EntityActions.remove({ saveStorage, entityId: entity!.entityId }))}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t</div>\r\n\t)\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport jsonStudents from \"./Students.json\"\r\n\r\nimport { StudentProvider, useStudent } from \"./useStudent\";\r\n\r\nimport { EntityList } from \"../Generics/EntityList\";\r\nimport { StudentForm } from \"./components/StudentForm\";\r\n\r\nimport { IStudent } from \"./types\";\r\nimport { IEntity } from \"../Generics/types.js\";\r\nimport { EntityActions } from \"../Generics/actions\";\r\n\r\ninterface IPageProps {\r\n\tquery: string;\r\n}\r\n\r\nexport const Page: React.FC<IPageProps> = (props: IProps) => {\r\n\tconst { state, dispatch } = useStudent();\r\n\tconst { entities, currentPage, pageCount } = state;\r\n\r\n\tconst [currentData, setCurrentData] = useState<IStudent[]>([]);\r\n\tconst pageSize = 9;\r\n\t\r\n\tuseEffect(() => {\r\n\t\tdispatch(EntityActions.setLoading(true))\r\n\t\t// let allStudents: IStudent[] = [...jsonStudents]\r\n\t\tlocalStorageStudents = [...jsonStudents]\r\n\t\tconst entities : IEntity[] = localStorageStudents\r\n\t\tdispatch(EntityActions.getAll({ entities, pageSize}))\r\n\t\tdispatch(EntityActions.setLoading(false))\r\n\t}, [dispatch, props.query]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst offset = currentPage * pageSize\r\n\t\tsetCurrentData(entities.slice(offset, offset + pageSize));\r\n\t }, [entities, currentPage]);\r\n\r\n\r\n  \treturn (\r\n\t\t<div className=\"two-columns\">\r\n\t\t\t<div className=\"a\">\r\n\t\t\t\t<h3>Students</h3>\r\n\t\t\t\t<EntityList \r\n\t\t\t\t\tentities={currentData}\r\n\t\t\t\t\tdispatch={dispatch}\r\n\t\t\t\t\tsaveStorage={saveStorage}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tpageCount={pageCount}\r\n\t\t\t\t\tmarginPagesDisplayed={2}\r\n\t\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\t\trenderColumns = {(entity: IStudent) => [\r\n\t\t\t\t\t\t<li key=\"types\" style={{minWidth: '60%'}}>{entity.types.join(', ')}</li>,\r\n\t\t\t\t\t\t<li key=\"img\"><img src={entity.avatar} style={{height: '30px'}} alt=\"Slika\"></img></li>\r\n\t\t\t\t\t]}\r\n\t\t\t\t />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"b\">\r\n\t\t\t\t<StudentForm saveStorage={saveStorage} />\r\n\t\t\t</div>\r\n\t\t</div>    \t\t\r\n  );\r\n}\r\n\r\n\r\ninterface IProps {\r\n\tquery: string\r\n}\r\n\r\nexport const StudentPage: React.FC<IProps> = (props: IProps) => {\r\n  return (\r\n    <StudentProvider>\r\n\t\t <Page query={props.query} />\r\n    </StudentProvider>\r\n  );\r\n}\r\n\r\nlet localStorageStudents: IStudent[] = []\r\n\r\nexport const saveStorage = (s: string) => {\r\n\tlocalStorageStudents = JSON.parse(s)\r\n}\r\n","import { AcceptedActions } from '../Generics/actions';\r\nimport { IStudentState, IStudent } from \"./types\";\r\nimport { ActionTypes } from \"../Generics/actions\";\r\nimport { IEntityState, IEntity } from \"../Generics/types\";\r\nimport { entityReducer } from \"../Generics/entityReducer\";\r\nimport { StudentActionTypes, StudentAcceptedActions } from \"./actions\";\r\n\r\n\r\nexport const initialStudent: IStudent = { \r\n\tentityId: 0, \r\n\tname: '',\r\n\turl: '',\r\n\tcode: '',\r\n\temail: '',\r\n\tavatar: 'https://img.pokemondb.net/artwork/diglett.jpg',\r\n\ttypes: []\r\n};\r\n\r\n\r\nexport const combineReducersWAS: (reducers: React.Reducer<IStudentState,StudentAcceptedActions>[])\r\n\t\t\t\t\t=> React.Reducer<IStudentState, StudentAcceptedActions> = (reducers) => {\r\n\treturn (prevState, action) => {\r\n\t\treturn reducers.reduce((newState, reducer) => {\r\n\t\t  return reducer(newState, action);\r\n\t\t}, prevState);\r\n\t };\t\r\n}\r\n\r\n\r\n// type acceptedActions = Omit<StudentAcceptedActions, \"IAddGrade\"|\"IRemoveGrade\">;\r\n\r\nexport const combineReducers: (\r\n\t\tent: React.Reducer<IStudentState, AcceptedActions>, \r\n\t\tstud: React.Reducer<IStudentState, StudentAcceptedActions>) => \r\n\t\t\t\t\tReact.Reducer<IStudentState, StudentAcceptedActions> = (ent, stud) => {\r\n\treturn (prevState, action) => {\r\n\t\t// PROBLEM !!!\r\n\t\t//const state = ent(prevState, action);\r\n\t\treturn stud(prevState, action)\r\n\t };\t\r\n}\r\n\r\n\r\nexport const studentReducer: <\r\n\tTS extends IEntityState<IEntity>,\r\n\tT extends IEntity\r\n>(initialEntity: T) => React.Reducer<TS, StudentAcceptedActions> = (initialEntity) => {\r\n\treturn (state, action) =>  {\r\n\t\tswitch(action.type) {\r\n\r\n\t\t\tcase ActionTypes.GET_ALL:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tentities: action.payload.entities,\r\n\t\t\t\t\tpageCount: Math.ceil(action.payload.entities.length / action.payload.pageSize)\r\n\t\t\t\t}\r\n\r\n\t\t\tcase StudentActionTypes.STUDENT_ADD_GRADE:\r\n\t\t\t\treturn {...state}\r\n\t\t\t\t\r\n\t\t\tcase StudentActionTypes.STUDENT_REMOVE_GRADE:\r\n\t\t\t\treturn {...state}\r\n\t\t\r\n\t\t\tdefault:\r\n\t\t\t\t//\tthrow new Error(`Unhandled action type: ${action!.type}`);\r\n\t\t\t\t// when combine reducers \r\n\t\t\t\treturn state\r\n\t\t}\t\t\r\n\t}\r\n}\r\n\r\n// export const Reducer = combineReducers([entityReducer(initialStudent), studentReducer(initialStudent)]);\r\nexport const Reducer = combineReducers(entityReducer(initialStudent), studentReducer(initialStudent));\r\n\r\n\r\n","\r\nimport React, { createContext, useContext, useReducer, Dispatch } from 'react';\r\nimport { IStudentState } from './types';\r\n// import { Reducer } from './studentReducerTry';\r\nimport { StudentAcceptedActions } from './actions';\r\nimport { Reducer } from './studentReducer';\r\n\r\nconst initialState: IStudentState = { \r\n\tentities: [],\r\n\tloading: false,\r\n\tformMode: 'display',\r\n\tcanEdit: true,\r\n\tpageCount: 0,\r\n\tcurrentPage: 0,\r\n\tsomething: [1, 2, 3]\r\n};\r\n\r\nexport interface IStudentContext {\r\n\tstate: IStudentState;\r\n\tdispatch: Dispatch<StudentAcceptedActions>;\r\n}\r\n\r\nlet StudentContext: React.Context<IStudentContext>;\r\n\r\ninterface IProps {\r\n\tchildren: React.ReactNode\r\n}\r\n\r\nexport const StudentProvider: React.FC<IProps> = ({ children }) => {\r\n\tconst [state, dispatch] = useReducer(Reducer, initialState)\r\n\r\n\tif (StudentContext === undefined)\r\n  \t\tStudentContext = createContext<IStudentContext>({ state, dispatch })\r\n\r\n  \treturn (\r\n   \t<StudentContext.Provider value={{ state, dispatch }}>\r\n   \t\t{children}\r\n   \t</StudentContext.Provider>\r\n  \t)\r\n}\r\n\r\nexport const useStudent = () => useContext(StudentContext);","import React from 'react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup'\r\nimport { IStudent } from '../types';\r\n\r\ninterface IFormProps {\r\n\tentity: IStudent;\r\n\tformMode: string;\r\n\tcanEdit: boolean;\r\n\tcancel: () => void;\r\n\tsaveForm: (student: IStudent) => void;\r\n\tedit: () => void;\r\n\tremove: () => void;\t\r\n }\r\n\r\nexport const MyForm: React.FC<IFormProps> = (props: IFormProps) => {\r\n  const formik = useFormik({\r\n\tenableReinitialize: true,\r\n   initialValues: {\r\n\t\tfromMode: props.formMode,\r\n\t\tcanEdit: props.canEdit,\r\n      entityId: props.entity.entityId,\r\n\t\turl: props.entity.url,\r\n\t\tcode: props.entity.code,\r\n\t\tavatar: props.entity.avatar,\r\n\t\tname: props.entity.name,\r\n\t\temail: props.entity.email,\r\n\t\ttypes: props.entity.types,\r\n   },\r\n   validationSchema: Yup.object({\r\n      code: Yup.string()\r\n        .max(150, 'Must be 150 characters or less')\r\n        .required('Required'),\r\n   }),\r\n   onSubmit: (values) => {\r\n\t\t// values.name = values.firstName.trim() + ' ' + values.lastName.trim()\r\n\t\t// alert(JSON.stringify(values, null, 2));\r\n\t\tprops.saveForm(values)\r\n   },\r\n  });\r\n\r\n  return (\r\n    <form onSubmit={formik.handleSubmit}>\r\n\t\t { props.formMode !== 'add' && \r\n\t\t <>\r\n\t\t\t<label htmlFor=\"entityId\">Student id</label>\r\n\t\t\t<input\r\n\t\t\tid=\"entityId\"\r\n\t\t\tname=\"entityId\"\r\n\t\t\ttype=\"text\"\r\n\t\t\tonChange={formik.handleChange}\r\n\t\t\tonBlur={formik.handleBlur}\r\n\t\t\tvalue={formik.values.entityId}\r\n\t\t\tdisabled\r\n\t\t\tstyle={{width: '50px'}}\r\n\t\t\t/>\r\n\t\t\t{formik.touched.entityId && formik.errors.entityId ? (\r\n\t\t\t<div>{formik.errors.entityId}</div>\r\n\t\t\t) : null}\r\n\t\t\t</>\r\n\t\t}\r\n\r\n\t\t<label htmlFor=\"name\">Name</label>\r\n      <input\r\n        id=\"name\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.name}\r\n\t\t  disabled = {props.formMode === 'display'}\r\n      />\r\n      {formik.touched.name && formik.errors.name ? (\r\n        <div>{formik.errors.name}</div>\r\n      ) : null}\r\n\r\n      <label htmlFor=\"code\">Code</label>\r\n      <input\r\n        id=\"code\"\r\n        name=\"code\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.code}\r\n\t\t  disabled = {props.formMode === 'display'}\r\n      />\r\n      {formik.touched.code && formik.errors.code ? (\r\n        <div>{formik.errors.code}</div>\r\n      ) : null}\r\n\r\n\t\t<label htmlFor=\"lastName\">Avatar</label>\r\n      <input\r\n        id=\"avtar\"\r\n        name=\"avtar\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.avatar}\r\n\t\t  disabled = {props.formMode === 'display'}\r\n      />\r\n      {formik.touched.avatar && formik.errors.avatar ? (\r\n        <div>{formik.errors.avatar}</div>\r\n      ) : null}\t\t\r\n\r\n\t\t<label htmlFor=\"email\">Email</label>\r\n      <input\r\n        id=\"email\"\r\n        name=\"email\"\r\n        type=\"text\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n\t\t  value={formik.values.email}\r\n\t\t  disabled = {props.formMode === 'display'}\r\n      />\r\n      {formik.touched.email && formik.errors.email ? (\r\n        <div>{formik.errors.email}</div>\r\n      ) : null}\t\t\r\n\r\n\r\n\t\t{ props.formMode !== 'display' &&\r\n\t\t\t<>\r\n\t\t\t<button onClick={() => props.cancel()}>Cancel</button>\r\n      \t<button type=\"submit\">Save</button>\r\n\t\t\t</>\r\n\t\t}\r\n\r\n\t\t{ props.canEdit && props.formMode === 'display' &&\r\n\t\t\t<>\r\n\t\t\t<button onClick={() => props.edit()}>Edit</button>\r\n\t\t\t<button onClick={() => props.remove()}>Remove</button>\r\n\t\t\t</>\r\n\t\t}\t\t\t\t\r\n\r\n    </form>\r\n  );\r\n};\r\n\r\n","import React from 'react';\r\nimport { useStudent } from '../useStudent';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { faWindowClose } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { EntityActions} from '../../Generics/actions'\r\nimport { MyForm } from './MyForm';\r\n\r\ninterface IProps {\r\n\tsaveStorage: (s: string) => void,\r\n}\r\n\r\nexport const StudentForm: React.FC<IProps> = (props: IProps) => {\r\n\tconst { state, dispatch } = useStudent();\r\n\tconst { entities, entity, formMode, canEdit } = state;\r\n\r\n\tconst { saveStorage } = props;\r\n\r\n\tlet title: string = ''\r\n\tswitch (state.formMode) {\r\n\t\tcase 'display':\r\n\t\t\ttitle = 'Student';\r\n\t\t\tbreak;\r\n\t\tcase 'edit':\r\n\t\t\ttitle = 'Edit Student';\r\n\t\t\tbreak;\r\n\t\tcase 'add':\r\n\t\t\ttitle = 'New Student';\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"formik-example formik-example--blue\" style={{border: '1px solid navy'}}>\r\n\t\t{ entity && \r\n\t\t\t<div style={{border: '1px solid silver', borderRadius: '5px', padding: '10px'}}>\r\n\t\t\t\t<h4 style={{marginTop: 0}}>{title}</h4>\r\n\t\t\t\t<button \r\n\t\t\t\t\tstyle={{float:'right'}}\r\n\t\t\t\t\tclassName=\"button-remove\"\r\n\t\t\t\t\ttitle=\"Close\"\r\n\t\t\t\t\tonClick={() => { dispatch(EntityActions.close())}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faWindowClose} size=\"2x\" color='lightblue' />\r\n\t\t\t\t</button>\t\t\t\t\r\n\t\t\t\t<MyForm {...props}\r\n\t\t\t\t\tentity={entity!} \r\n\t\t\t\t\tformMode={formMode}\r\n\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\tcancel = {() => dispatch(EntityActions.cancel())}\r\n\t\t\t\t\tsaveForm = { (student) => dispatch(EntityActions.store({ saveStorage, entity: student }))}\r\n\t\t\t\t\tedit = {() => dispatch(EntityActions.edit({entities, entityId: entity!.entityId}))}\r\n\t\t\t\t\tremove = {() => dispatch(EntityActions.remove({ saveStorage, entityId: entity!.entityId }))}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t</div>\r\n\t)\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport jsonStudents from \"./Students.json\"\r\n\r\nimport { StudentProvider } from \"./useStudent\";\r\nimport { useStudent } from \"./useStudent\";\r\n\r\nimport { EntityList } from \"../Generics/EntityList\";\r\nimport { StudentForm } from \"./components/StudentForm\";\r\n\r\nimport { IStudent } from \"./types\";\r\nimport { StudentActions } from \"./actions\";\r\nimport { IEntity } from \"../Generics/types\";\r\n\r\ninterface IPageProps {\r\n\tquery: string;\r\n}\r\n\r\nexport const Page: React.FC<IPageProps> = (props: IProps) => {\r\n\tconst { state, dispatch } = useStudent();\r\n\tconst { entities, currentPage, pageCount } = state;\r\n\r\n\tconst [currentData, setCurrentData] = useState<IStudent[]>([]);\r\n\tconst pageSize = 9;\r\n\t\r\n\tuseEffect(() => {\r\n\t\tdispatch(StudentActions.setLoading(true))\r\n\t\t//let allStudents: IStudent[] = [...jsonStudents]\r\n\t\tlocalStorageStudents = [...jsonStudents]\r\n\t\tconst entities : IEntity[] = localStorageStudents\r\n\t\tdispatch(StudentActions.getAll({entities, pageSize}))\r\n\t\tdispatch(StudentActions.setLoading(false))\r\n\t}, [dispatch, props.query]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst offset = currentPage * pageSize\r\n\t\tsetCurrentData(entities.slice(offset, offset + pageSize));\r\n\t }, [entities, currentPage]);\r\n\r\n\r\n  \treturn (\r\n\t\t<div className=\"two-columns\">\r\n\t\t\t<div className=\"a\">\r\n\t\t\t\t<h3>Students</h3>\r\n\t\t\t\t<EntityList \r\n\t\t\t\t\tentities={currentData}\r\n\t\t\t\t\tdispatch={dispatch}\r\n\t\t\t\t\tsaveStorage={saveStorage}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tpageCount={pageCount}\r\n\t\t\t\t\tmarginPagesDisplayed={2}\r\n\t\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\t\trenderColumns = {(entity: IStudent) => [\r\n\t\t\t\t\t\t<li key=\"types\" style={{minWidth: '60%'}}>{entity.types.join(', ')}</li>,\r\n\t\t\t\t\t\t<li key=\"img\"><img src={entity.avatar} style={{height: '30px'}} alt=\"Slika\"></img></li>\r\n\t\t\t\t\t]}\r\n\t\t\t\t />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"b\">\r\n\t\t\t\t<StudentForm  saveStorage={saveStorage} />\r\n\t\t\t</div>\r\n\t\t</div>    \t\t\r\n  );\r\n}\r\n\r\n\r\ninterface IProps {\r\n\tquery: string\r\n}\r\n\r\nexport const StudentPageExtended: React.FC<IProps> = (props: IProps) => {\r\n  return (\r\n    <StudentProvider>\r\n\t\t <Page query={props.query} />\r\n    </StudentProvider>\r\n  );\r\n}\r\n\r\nlet localStorageStudents: IStudent[] = []\r\n\r\nexport const saveStorage = (s: string) => {\r\n\tlocalStorageStudents = JSON.parse(s)\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\n\r\nimport { HashRouter as Router, Route, Switch, Link } from 'react-router-dom' // useRouteMatch\r\n\r\nimport { Provider } from 'react-redux';\r\n\r\nimport { Store } from 'redux';\r\n\r\nimport configureStore, { IAppState } from './store/Store';\r\nimport { getAllQuestions } from './Questions/actions';\r\nimport { getAllAnswers } from './Answers/actions';\r\n\r\nimport './index.css';\r\nimport './App.css';\r\n\r\nimport App from './components/App';\r\nimport Answers from './Answers/containers/List'\r\nimport containers from './Questions/containers/Pages'\r\n\r\n// import { EntityPage } from './CRUD/Generics/EntityPage';\r\nimport { StudentPage } from './CRUD/Student/StudentPage';\r\nimport { StudentPageExtended } from './CRUD/StudentExtended/StudentPage';\r\n\r\nimport './formik/formikStyles.css';\r\nimport { css } from 'glamor';\r\nimport { COLORS } from './formik/theme';\r\nconst { base, black, ...cols } = COLORS;\r\n\r\n// Cool example colors.\r\nObject.keys(cols).forEach(color => {\r\n\tcss.global(\r\n\t  `.formik-example.formik-example--${color} button[type='submit'],\r\n\t.formik-example.formik-example--${color} button.primary`,\r\n\t  {\r\n\t\t background: COLORS[color][5],\r\n\t  }\r\n\t);\r\n\tcss.global(\r\n\t  `.formik-example.formik-example--${color} button[type='submit']:focus,\r\n\t  .formik-example.formik-example--${color} button.primary:focus`,\r\n\t  {\r\n\t\t background: COLORS[color][6],\r\n\t  }\r\n\t);\r\n\tcss.global(\r\n\t  `.formik-example.formik-example--${color} button[type='submit']:active,\r\n\t  .formik-example.formik-example--${color} button.primary:active`,\r\n\t  {\r\n\t\t background: COLORS[color][7],\r\n\t  }\r\n\t);\r\n \r\n\tcss.global(\r\n\t  `.formik-example.formik-example--${color} input:focus, .formik-example.formik-example--${color} select:focus`,\r\n\t  {\r\n\t\t borderColor: COLORS[color][4],\r\n\t\t boxShadow: `inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 0 3px ${COLORS[color][1]}`,\r\n\t\t outline: 'none',\r\n\t  }\r\n\t);\r\n });\r\n\r\n\r\ninterface IProps {\r\n\tstore: Store<IAppState>;\r\n}\r\n\r\nconst Root: React.SFC<IProps> = props => {\r\n\treturn (\r\n\t\t<Provider store={props.store}>\r\n\t\t\t<Router>\r\n\t\t\t\t<nav>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Link to=\"/\">Supporter</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Link to=\"/questions\">Questions</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Link to=\"/answers/pera\">Answers</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"push-right\">\r\n\t\t\t\t\t\t\t<Link to=\"/student\">Student</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Link to=\"/studentextended\">Student Extended</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Link to=\"/answers/pera\">Sign In</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\t\t\t\t\t\r\n\t\t\t\t</nav>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t\t{<App /> }\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/questions\">\r\n\t\t\t\t\t\t\t<containers.questions canEdit={true} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/answers/:slug\">\r\n\t\t\t\t\t\t\t<Answers />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\tpath=\"/blog2/:slug\"\r\n\t\t\t\t\t\t\trender={({ match }) => {\r\n\t\t\t\t\t\t\t\t// Do whatever you want with the match...\r\n\t\t\t\t\t\t\t\treturn <div>{match}</div>;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t<Route path=\"/student\">\r\n\t\t\t\t\t\t\t<StudentPage query=\"all\" />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/studentextended\">\r\n\t\t\t\t\t\t\t<StudentPageExtended query=\"all\" />\r\n\t\t\t\t\t\t</Route>\t\t\t\t\t\t\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\t\r\n\t\t\t</Router>\r\n\t\t</Provider>\r\n\t);\r\n};\r\n\r\n// Generate the store\r\nconst store = configureStore();\r\nstore.dispatch(getAllQuestions());\r\nstore.dispatch(getAllAnswers());\r\n\r\n// Render the App\r\nReactDOM.render(<Root store={store} />, document.getElementById(\r\n  'root'\r\n) as HTMLElement);"],"sourceRoot":""}